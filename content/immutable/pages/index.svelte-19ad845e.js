import{S as Zt,i as xt,s as $t,e as _,t as y,c as f,a as p,h as E,d as u,b as a,g as Y,J as o,j as Ge,f as M,k,m as S,K as G,l as Rt,Q as bt,M as Xt,W as en,O as tn,P as Ut,L as Se,X as ht,n as zt,w as nn,R as ln}from"../chunks/index-f844dc3c.js";import{m as Pt,c as sn,d as rn,f as on,p as an,a as cn}from"../chunks/rules-54a27443.js";let h;const ee=new Array(32).fill(void 0);ee.push(void 0,null,!0,!1);function A(n){return ee[n]}let De=ee.length;function un(n){n<36||(ee[n]=De,De=n)}function _n(n){const e=A(n);return un(n),e}function I(n){De===ee.length&&ee.push(ee.length+1);const e=De;return De=ee[e],ee[e]=n,e}const Kt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Kt.decode();let Be;function Ne(){return Be.byteLength===0&&(Be=new Uint8Array(h.memory.buffer)),Be}function ae(n,e){return Kt.decode(Ne().subarray(n,n+e))}let Je;function Z(){return Je.byteLength===0&&(Je=new Int32Array(h.memory.buffer)),Je}let pe=0;const qe=new TextEncoder("utf-8"),fn=typeof qe.encodeInto=="function"?function(n,e){return qe.encodeInto(n,e)}:function(n,e){const t=qe.encode(n);return e.set(t),{read:n.length,written:t.length}};function Re(n,e,t){if(t===void 0){const c=qe.encode(n),d=e(c.length);return Ne().subarray(d,d+c.length).set(c),pe=c.length,d}let l=n.length,s=e(l);const i=Ne();let r=0;for(;r<l;r++){const c=n.charCodeAt(r);if(c>127)break;i[s+r]=c}if(r!==l){r!==0&&(n=n.slice(r)),s=t(s,l,l=r+n.length*3);const c=Ne().subarray(s+r,s+l);r+=fn(n,c).written}return pe=r,s}function dn(n,e,t){try{const i=h.__wbindgen_add_to_stack_pointer(-16),r=Re(t,h.__wbindgen_malloc,h.__wbindgen_realloc),c=pe;h.reset_grid(i,n,e,r,c);var l=Z()[i/4+0],s=Z()[i/4+1];return ae(l,s)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(l,s)}}function hn(n,e,t,l){try{const r=h.__wbindgen_add_to_stack_pointer(-16),c=Re(n,h.__wbindgen_malloc,h.__wbindgen_realloc),d=pe;h.propagate(r,c,d,e,t,l);var s=Z()[r/4+0],i=Z()[r/4+1];return ae(s,i)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(s,i)}}function Vt(n,e,t,l){try{const r=h.__wbindgen_add_to_stack_pointer(-16),c=Re(n,h.__wbindgen_malloc,h.__wbindgen_realloc),d=pe;h.collapse(r,c,d,e,t,l);var s=Z()[r/4+0],i=Z()[r/4+1];return ae(s,i)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(s,i)}}function bn(n){try{const l=h.__wbindgen_add_to_stack_pointer(-16),s=Re(n,h.__wbindgen_malloc,h.__wbindgen_realloc),i=pe;h.choose_collapsable(l,s,i);var e=Z()[l/4+0],t=Z()[l/4+1];return ae(e,t)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(e,t)}}function gn(n,e){try{const s=h.__wbindgen_add_to_stack_pointer(-16),i=Re(n,h.__wbindgen_malloc,h.__wbindgen_realloc),r=pe;h.collapse_all(s,i,r,e);var t=Z()[s/4+0],l=Z()[s/4+1];return ae(t,l)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(t,l)}}function oe(n,e){try{return n.apply(this,e)}catch(t){h.__wbindgen_exn_store(I(t))}}function pn(n,e){return Ne().subarray(n/1,n/1+e)}async function wn(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(l){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",l);else throw l}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function vn(){const n={};return n.wbg={},n.wbg.__wbg_process_e56fd54cf6319b6c=function(e){const t=A(e).process;return I(t)},n.wbg.__wbindgen_is_object=function(e){const t=A(e);return typeof t=="object"&&t!==null},n.wbg.__wbg_versions_77e21455908dad33=function(e){const t=A(e).versions;return I(t)},n.wbg.__wbindgen_object_drop_ref=function(e){_n(e)},n.wbg.__wbg_node_0dd25d832e4785d5=function(e){const t=A(e).node;return I(t)},n.wbg.__wbindgen_is_string=function(e){return typeof A(e)=="string"},n.wbg.__wbg_static_accessor_NODE_MODULE_26b231378c1be7dd=function(){const e=module;return I(e)},n.wbg.__wbg_require_0db1598d9ccecb30=function(){return oe(function(e,t,l){const s=A(e).require(ae(t,l));return I(s)},arguments)},n.wbg.__wbg_crypto_b95d7173266618a9=function(e){const t=A(e).crypto;return I(t)},n.wbg.__wbg_msCrypto_5a86d77a66230f81=function(e){const t=A(e).msCrypto;return I(t)},n.wbg.__wbg_getRandomValues_b14734aa289bc356=function(){return oe(function(e,t){A(e).getRandomValues(A(t))},arguments)},n.wbg.__wbg_randomFillSync_91e2b39becca6147=function(){return oe(function(e,t,l){A(e).randomFillSync(pn(t,l))},arguments)},n.wbg.__wbg_newnoargs_fc5356289219b93b=function(e,t){const l=new Function(ae(e,t));return I(l)},n.wbg.__wbg_call_4573f605ca4b5f10=function(){return oe(function(e,t){const l=A(e).call(A(t));return I(l)},arguments)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=A(e);return I(t)},n.wbg.__wbg_self_ba1ddafe9ea7a3a2=function(){return oe(function(){const e=self.self;return I(e)},arguments)},n.wbg.__wbg_window_be3cc430364fd32c=function(){return oe(function(){const e=window.window;return I(e)},arguments)},n.wbg.__wbg_globalThis_56d9c9f814daeeee=function(){return oe(function(){const e=globalThis.globalThis;return I(e)},arguments)},n.wbg.__wbg_global_8c35aeee4ac77f2b=function(){return oe(function(){const e=global.global;return I(e)},arguments)},n.wbg.__wbindgen_is_undefined=function(e){return A(e)===void 0},n.wbg.__wbg_buffer_de1150f91b23aa89=function(e){const t=A(e).buffer;return I(t)},n.wbg.__wbg_new_97cf52648830a70d=function(e){const t=new Uint8Array(A(e));return I(t)},n.wbg.__wbg_set_a0172b213e2469e9=function(e,t,l){A(e).set(A(t),l>>>0)},n.wbg.__wbg_length_e09c0b925ab8de5d=function(e){return A(e).length},n.wbg.__wbg_newwithlength_e833b89f9db02732=function(e){const t=new Uint8Array(e>>>0);return I(t)},n.wbg.__wbg_subarray_9482ae5cd5cd99d3=function(e,t,l){const s=A(e).subarray(t>>>0,l>>>0);return I(s)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(ae(e,t))},n.wbg.__wbindgen_memory=function(){const e=h.memory;return I(e)},n}function mn(n,e){return h=n.exports,Qt.__wbindgen_wasm_module=e,Je=new Int32Array(h.memory.buffer),Be=new Uint8Array(h.memory.buffer),h}async function Qt(n){typeof n=="undefined"&&(n="/aaltoweb/content/immutable/assets/aalto2_bg.wasm");const e=vn();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:l}=await wn(await n,e);return mn(t,l)}function jt(n,e,t){const l=n.slice();return l[27]=e[t],l[29]=t,l}function Wt(n,e,t){const l=n.slice();return l[30]=e[t],l[32]=t,l}function Ct(n,e,t){const l=n.slice();return l[33]=e[t],l}function Ft(n){let e,t;return{c(){e=_("p"),t=y(n[8]),this.h()},l(l){e=f(l,"P",{class:!0});var s=p(e);t=E(s,n[8]),s.forEach(u),this.h()},h(){a(e,"class","svelte-1ihwriy")},m(l,s){Y(l,e,s),o(e,t)},p(l,s){s[0]&256&&Ge(t,l[8])},d(l){l&&u(e)}}}function Bt(n){let e;function t(i,r){return i[5]?En:yn}let l=t(n),s=l(n);return{c(){e=_("div"),s.c(),this.h()},l(i){e=f(i,"DIV",{style:!0,class:!0});var r=p(e);s.l(r),r.forEach(u),this.h()},h(){M(e,"height","100%"),M(e,"width","100%"),M(e,"display","grid"),M(e,"place-items","center"),a(e,"class","svelte-1ihwriy")},m(i,r){Y(i,e,r),s.m(e,null)},p(i,r){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e,null)))},d(i){i&&u(e),s.d()}}}function yn(n){let e,t;return{c(){e=_("p"),t=y("Loading wasm..."),this.h()},l(l){e=f(l,"P",{class:!0});var s=p(e);t=E(s,"Loading wasm..."),s.forEach(u),this.h()},h(){a(e,"class","svelte-1ihwriy")},m(l,s){Y(l,e,s),o(e,t)},d(l){l&&u(e)}}}function En(n){let e,t,l,s;return{c(){e=_("p"),t=y("Error while executing wasm. "),l=_("br"),s=y(`
                        Are the rules valid?`),this.h()},l(i){e=f(i,"P",{class:!0});var r=p(e);t=E(r,"Error while executing wasm. "),l=f(r,"BR",{class:!0}),s=E(r,`
                        Are the rules valid?`),r.forEach(u),this.h()},h(){a(l,"class","svelte-1ihwriy"),a(e,"class","svelte-1ihwriy")},m(i,r){Y(i,e,r),o(e,t),o(e,l),o(e,s)},d(i){i&&u(e)}}}function Jt(n){let e,t=n[30].possible.length!=1&&qt(n);return{c(){e=_("div"),t&&t.c(),this.h()},l(l){e=f(l,"DIV",{class:!0});var s=p(e);t&&t.l(s),s.forEach(u),this.h()},h(){a(e,"class","possibilities svelte-1ihwriy")},m(l,s){Y(l,e,s),t&&t.m(e,null)},p(l,s){l[30].possible.length!=1?t?t.p(l,s):(t=qt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&u(e),t&&t.d()}}}function qt(n){let e,t=n[30].possible,l=[];for(let s=0;s<t.length;s+=1)l[s]=Gt(Ct(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Rt()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=Rt()},m(s,i){for(let r=0;r<l.length;r+=1)l[r].m(s,i);Y(s,e,i)},p(s,i){if(i[0]&16){t=s[30].possible;let r;for(r=0;r<t.length;r+=1){const c=Ct(s,t,r);l[r]?l[r].p(c,i):(l[r]=Gt(c),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){bt(l,s),s&&u(e)}}}function Gt(n){let e;return{c(){e=_("div"),this.h()},l(t){e=f(t,"DIV",{class:!0,style:!0}),p(e).forEach(u),this.h()},h(){a(e,"class","possible svelte-1ihwriy"),M(e,"--color",n[33].color),M(e,"--opacity",1/n[30].possible.length)},m(t,l){Y(t,e,l)},p(t,l){l[0]&16&&M(e,"--color",t[33].color),l[0]&16&&M(e,"--opacity",1/t[30].possible.length)},d(t){t&&u(e)}}}function Yt(n){let e,t="",l,s,i,r,c,d=n[6]&&Jt(n);function x(){return n[16](n[32],n[29])}function ce(...D){return n[17](n[32],n[29],...D)}return{c(){e=_("div"),l=y(t),s=k(),i=k(),d&&d.c(),this.h()},l(D){e=f(D,"DIV",{class:!0,title:!0,style:!0});var v=p(e);l=E(v,t),s=S(v),i=S(v),d&&d.l(v),v.forEach(u),this.h()},h(){a(e,"class","tile svelte-1ihwriy"),a(e,"title",`${n[32]}, ${n[29]}`),M(e,"--bg",n[30].possible.length==1?n[30].possible[0].color:"transparent")},m(D,v){Y(D,e,v),o(e,l),o(e,s),o(e,i),d&&d.m(e,null),r||(c=[G(e,"click",x),G(e,"mouseover",ce),G(e,"focus",null)],r=!0)},p(D,v){n=D,v[0]&16&&t!==(t="")&&Ge(l,t),n[6]?d?d.p(n,v):(d=Jt(n),d.c(),d.m(e,null)):d&&(d.d(1),d=null),v[0]&16&&M(e,"--bg",n[30].possible.length==1?n[30].possible[0].color:"transparent")},d(D){D&&u(e),d&&d.d(),r=!1,Xt(c)}}}function Ht(n){let e,t,l=n[27],s=[];for(let i=0;i<l.length;i+=1)s[i]=Yt(Wt(n,l,i));return{c(){e=_("div");for(let i=0;i<s.length;i+=1)s[i].c();t=k(),this.h()},l(i){e=f(i,"DIV",{class:!0});var r=p(e);for(let c=0;c<s.length;c+=1)s[c].l(r);t=S(r),r.forEach(u),this.h()},h(){a(e,"class","col svelte-1ihwriy")},m(i,r){Y(i,e,r);for(let c=0;c<s.length;c+=1)s[c].m(e,null);o(e,t)},p(i,r){if(r[0]&2128){l=i[27];let c;for(c=0;c<l.length;c+=1){const d=Wt(i,l,c);s[c]?s[c].p(d,r):(s[c]=Yt(d),s[c].c(),s[c].m(e,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=l.length}},d(i){i&&u(e),bt(s,i)}}}function kn(n){let e,t,l,s,i,r,c,d,x,ce,D,v,T,O,W,L,ue,N,H,F,_e,V,Ae,Ie,B,te,Te,Oe,j,m,w,J,fe,X,de,Ye,He,K,Xe,ne,we,Ke,Qe,le,he,Ze,xe,$,$e,Q,ve,et,tt,q,be,nt,lt,C,st,Ue,rt,it,me,ot,at,se,re,Le=n[7]?"Stop":"Solve",ze,ct,ie,ut,_t,gt,R=n[8]!=null&&Ft(n),U=(!n[4]||n[4].length==0)&&Bt(n),ye=n[4],z=[];for(let b=0;b<ye.length;b+=1)z[b]=Ht(jt(n,ye,b));return{c(){e=k(),t=_("main"),l=_("h1"),s=y("AALTO"),i=k(),r=_("p"),c=y("made by "),d=_("a"),x=y("elias eskelinen"),ce=k(),R&&R.c(),D=k(),v=_("div"),T=_("select"),O=_("option"),W=y("Dungeon"),L=_("option"),ue=y("Minecraft"),N=_("option"),H=y("Checkers"),F=_("option"),_e=y("Layers"),V=_("option"),Ae=y("Flowers"),Ie=k(),B=_("details"),te=_("summary"),Te=y("Edit the rules"),Oe=k(),j=_("textarea"),m=k(),w=_("div"),U&&U.c(),J=k();for(let b=0;b<z.length;b+=1)z[b].c();fe=k(),X=_("div"),de=_("label"),Ye=y("Grid size:"),He=k(),K=_("input"),Xe=k(),ne=_("details"),we=_("summary"),Ke=y("Performance"),Qe=k(),le=_("div"),he=_("label"),Ze=y("Show possible:"),xe=k(),$=_("input"),$e=k(),Q=_("details"),ve=_("summary"),et=y("Solving"),tt=k(),q=_("div"),be=_("label"),nt=y("Solve delay:"),lt=k(),C=_("input"),st=k(),Ue=y(n[3]),rt=y(" ms"),it=k(),me=_("small"),ot=y("set delay to 0 for maximum speed"),at=k(),se=_("div"),re=_("button"),ze=y(Le),ct=k(),ie=_("button"),ut=y("Reset"),this.h()},l(b){en('[data-svelte="svelte-bf8aw6"]',document.head).forEach(u),e=S(b),t=f(b,"MAIN",{class:!0});var g=p(t);l=f(g,"H1",{class:!0});var Me=p(l);s=E(Me,"AALTO"),Me.forEach(u),i=S(g),r=f(g,"P",{class:!0});var ft=p(r);c=E(ft,"made by "),d=f(ft,"A",{href:!0,class:!0});var pt=p(d);x=E(pt,"elias eskelinen"),pt.forEach(u),ft.forEach(u),ce=S(g),R&&R.l(g),D=S(g),v=f(g,"DIV",{class:!0});var wt=p(v);T=f(wt,"SELECT",{class:!0});var Ee=p(T);O=f(Ee,"OPTION",{class:!0});var vt=p(O);W=E(vt,"Dungeon"),vt.forEach(u),L=f(Ee,"OPTION",{class:!0});var mt=p(L);ue=E(mt,"Minecraft"),mt.forEach(u),N=f(Ee,"OPTION",{class:!0});var yt=p(N);H=E(yt,"Checkers"),yt.forEach(u),F=f(Ee,"OPTION",{class:!0});var Et=p(F);_e=E(Et,"Layers"),Et.forEach(u),V=f(Ee,"OPTION",{class:!0});var kt=p(V);Ae=E(kt,"Flowers"),kt.forEach(u),Ee.forEach(u),wt.forEach(u),Ie=S(g),B=f(g,"DETAILS",{style:!0,class:!0});var Pe=p(B);te=f(Pe,"SUMMARY",{class:!0});var St=p(te);Te=E(St,"Edit the rules"),St.forEach(u),Oe=S(Pe),j=f(Pe,"TEXTAREA",{style:!0,class:!0}),p(j).forEach(u),Pe.forEach(u),m=S(g),w=f(g,"DIV",{class:!0,style:!0});var Ve=p(w);U&&U.l(Ve),J=S(Ve);for(let dt=0;dt<z.length;dt+=1)z[dt].l(Ve);Ve.forEach(u),fe=S(g),X=f(g,"DIV",{class:!0});var je=p(X);de=f(je,"LABEL",{for:!0,class:!0});var At=p(de);Ye=E(At,"Grid size:"),At.forEach(u),He=S(je),K=f(je,"INPUT",{id:!0,type:!0,class:!0}),je.forEach(u),Xe=S(g),ne=f(g,"DETAILS",{class:!0});var We=p(ne);we=f(We,"SUMMARY",{class:!0});var It=p(we);Ke=E(It,"Performance"),It.forEach(u),Qe=S(We),le=f(We,"DIV",{class:!0});var Ce=p(le);he=f(Ce,"LABEL",{for:!0,class:!0});var Tt=p(he);Ze=E(Tt,"Show possible:"),Tt.forEach(u),xe=S(Ce),$=f(Ce,"INPUT",{id:!0,type:!0,class:!0}),Ce.forEach(u),We.forEach(u),$e=S(g),Q=f(g,"DETAILS",{class:!0});var ke=p(Q);ve=f(ke,"SUMMARY",{class:!0});var Ot=p(ve);et=E(Ot,"Solving"),Ot.forEach(u),tt=S(ke),q=f(ke,"DIV",{class:!0});var ge=p(q);be=f(ge,"LABEL",{for:!0,class:!0});var Lt=p(be);nt=E(Lt,"Solve delay:"),Lt.forEach(u),lt=S(ge),C=f(ge,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),st=S(ge),Ue=E(ge,n[3]),rt=E(ge," ms"),ge.forEach(u),it=S(ke),me=f(ke,"SMALL",{class:!0});var Mt=p(me);ot=E(Mt,"set delay to 0 for maximum speed"),Mt.forEach(u),ke.forEach(u),at=S(g),se=f(g,"DIV",{class:!0});var Fe=p(se);re=f(Fe,"BUTTON",{style:!0,class:!0});var Dt=p(re);ze=E(Dt,Le),Dt.forEach(u),ct=S(Fe),ie=f(Fe,"BUTTON",{style:!0,class:!0});var Nt=p(ie);ut=E(Nt,"Reset"),Nt.forEach(u),Fe.forEach(u),g.forEach(u),this.h()},h(){document.title="AALTO",a(l,"class","svelte-1ihwriy"),a(d,"href","https://eliaseskelinen.fi"),a(d,"class","svelte-1ihwriy"),a(r,"class","svelte-1ihwriy"),O.__value="5",O.value=O.__value,a(O,"class","svelte-1ihwriy"),L.__value="0",L.value=L.__value,a(L,"class","svelte-1ihwriy"),N.__value="1",N.value=N.__value,a(N,"class","svelte-1ihwriy"),F.__value="2",F.value=F.__value,a(F,"class","svelte-1ihwriy"),V.__value="3",V.value=V.__value,a(V,"class","svelte-1ihwriy"),a(T,"class","svelte-1ihwriy"),n[1]===void 0&&tn(()=>n[14].call(T)),a(v,"class","svelte-1ihwriy"),a(te,"class","svelte-1ihwriy"),M(j,"min-width","var(--grid-max-size)"),M(j,"resize","block"),M(j,"min-height","var(--grid-max-size)"),a(j,"class","svelte-1ihwriy"),M(B,"min-width","var(--grid-max-size)"),a(B,"class","svelte-1ihwriy"),a(w,"class","grid svelte-1ihwriy"),M(w,"--size",n[2]),a(de,"for","width"),a(de,"class","svelte-1ihwriy"),a(K,"id","width"),a(K,"type","number"),a(K,"class","svelte-1ihwriy"),a(X,"class","svelte-1ihwriy"),a(we,"class","svelte-1ihwriy"),a(he,"for","show-possible"),a(he,"class","svelte-1ihwriy"),a($,"id","show-possible"),a($,"type","checkbox"),a($,"class","svelte-1ihwriy"),a(le,"class","svelte-1ihwriy"),a(ne,"class","svelte-1ihwriy"),a(ve,"class","svelte-1ihwriy"),a(be,"for","speed"),a(be,"class","svelte-1ihwriy"),a(C,"id","speed"),a(C,"type","range"),a(C,"min","0"),a(C,"max","75"),a(C,"class","svelte-1ihwriy"),a(q,"class","svelte-1ihwriy"),a(me,"class","svelte-1ihwriy"),a(Q,"class","svelte-1ihwriy"),M(re,"padding","0.25em 1em"),a(re,"class","svelte-1ihwriy"),M(ie,"padding","0.25em 1em"),a(ie,"class","svelte-1ihwriy"),a(se,"class","svelte-1ihwriy"),a(t,"class","svelte-1ihwriy")},m(b,P){Y(b,e,P),Y(b,t,P),o(t,l),o(l,s),o(t,i),o(t,r),o(r,c),o(r,d),o(d,x),o(t,ce),R&&R.m(t,null),o(t,D),o(t,v),o(v,T),o(T,O),o(O,W),o(T,L),o(L,ue),o(T,N),o(N,H),o(T,F),o(F,_e),o(T,V),o(V,Ae),Ut(T,n[1]),o(t,Ie),o(t,B),o(B,te),o(te,Te),o(B,Oe),o(B,j),Se(j,n[0]),o(t,m),o(t,w),U&&U.m(w,null),o(w,J);for(let g=0;g<z.length;g+=1)z[g].m(w,null);o(t,fe),o(t,X),o(X,de),o(de,Ye),o(X,He),o(X,K),Se(K,n[2]),o(t,Xe),o(t,ne),o(ne,we),o(we,Ke),o(ne,Qe),o(ne,le),o(le,he),o(he,Ze),o(le,xe),o(le,$),$.checked=n[6],o(t,$e),o(t,Q),o(Q,ve),o(ve,et),o(Q,tt),o(Q,q),o(q,be),o(be,nt),o(q,lt),o(q,C),Se(C,n[3]),o(q,st),o(q,Ue),o(q,rt),o(Q,it),o(Q,me),o(me,ot),o(t,at),o(t,se),o(se,re),o(re,ze),o(se,ct),o(se,ie),o(ie,ut),_t||(gt=[G(T,"change",n[14]),G(j,"input",n[15]),G(K,"input",n[18]),G($,"change",n[19]),G(C,"change",n[20]),G(C,"input",n[20]),G(re,"click",n[10]),G(ie,"click",n[9])],_t=!0)},p(b,P){if(b[8]!=null?R?R.p(b,P):(R=Ft(b),R.c(),R.m(t,D)):R&&(R.d(1),R=null),P[0]&2&&Ut(T,b[1]),P[0]&1&&Se(j,b[0]),!b[4]||b[4].length==0?U?U.p(b,P):(U=Bt(b),U.c(),U.m(w,J)):U&&(U.d(1),U=null),P[0]&2128){ye=b[4];let g;for(g=0;g<ye.length;g+=1){const Me=jt(b,ye,g);z[g]?z[g].p(Me,P):(z[g]=Ht(Me),z[g].c(),z[g].m(w,null))}for(;g<z.length;g+=1)z[g].d(1);z.length=ye.length}P[0]&4&&M(w,"--size",b[2]),P[0]&4&&ht(K.value)!==b[2]&&Se(K,b[2]),P[0]&64&&($.checked=b[6]),P[0]&8&&Se(C,b[3]),P[0]&8&&Ge(Ue,b[3]),P[0]&128&&Le!==(Le=b[7]?"Stop":"Solve")&&Ge(ze,Le)},i:zt,o:zt,d(b){b&&u(e),b&&u(t),R&&R.d(),U&&U.d(),bt(z,b),_t=!1,Xt(gt)}}}function Sn(n,e,t){let l=Pt,s=32,i=[];function r(){return JSON.stringify({tiles:i})}function c(m){let w=JSON.parse(m);t(4,i=w.tiles)}let d=!1;function x(){if(!!v){t(7,L=!1);try{let m=dn(W,W,JSON.stringify(l)),w=JSON.parse(m);t(4,i=w),t(5,d=!1),O==="3"?(s=18,ce(W-1,W-1,0)):s=12}catch(m){console.warn(m),t(4,i=[]),t(5,d=!0)}console.info("Max recursion",s)}}function ce(m,w,J){let fe=i[w][m];fe.possible=[fe.possible[J]],t(4,i[w][m]=fe,i);let X=hn(r(),m,w,s);c(X)}function D(){if(H==0){L&&N&&clearInterval(N),console.log("Starting solve...");let m=gn(r(),s);c(m),console.log("Solve done!")}else L?(t(7,L=!1),console.log("Solve stopped!")):(console.log("Starting solve..."),t(7,L=!0))}let v=!1;nn(()=>{Qt().then(()=>{t(12,v=!0)})});let T=!0,O="0",W=16,L=!1,ue=!1,N,H=0;function F(){if(L&&!ue){ue=!0;let m=JSON.parse(bn(r()));if(m){console.log("Collapsing",m);let w=Vt(r(),m[0],m[1],s);c(w)}else t(7,L=!1),console.log("Solve done!");ue=!1}}function _e(m,w){if(!v)return;console.log("In",r());let J=Vt(r(),m,w,s);c(J)}let V;function Ae(){O=ln(this),t(1,O)}function Ie(){l=this.value,t(0,l),t(1,O),t(12,v)}const B=(m,w)=>{_e(m,w)},te=(m,w,J)=>{(J.buttons==1||J.buttons==3)&&_e(m,w)};function Te(){W=ht(this.value),t(2,W)}function Oe(){T=this.checked,t(6,T)}function j(){H=ht(this.value),t(3,H)}return n.$$.update=()=>{n.$$.dirty[0]&4098&&O!=null&&v&&(t(0,l=[Pt,sn,rn,on,an,cn][+O]),+O==5?t(8,V="Textures by kenney.nl"):t(8,V=null)),n.$$.dirty[0]&4097&&l&&v&&x(),n.$$.dirty[0]&4100&&W&&v&&x(),n.$$.dirty[0]&8200&&H!=null&&(N&&clearInterval(N),t(13,N=setInterval(F,H)))},[l,O,W,H,i,d,T,L,V,x,D,_e,v,N,Ae,Ie,B,te,Te,Oe,j]}class Tn extends Zt{constructor(e){super(),xt(this,e,Sn,kn,$t,{},null,[-1,-1])}}export{Tn as default};
