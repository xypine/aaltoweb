import{S as Ue,i as Be,s as Se,e as b,c as k,a as y,d,b as N,g as q,n as ce,w as wt,t as M,h as j,J as u,K as F,k as L,l as Ne,m as R,j as Me,L as Oe,M as je,N as _e,x as ge,y as be,z as ke,r as K,p as Z,C as ye,O as kt,f as g,P as De,q as Pe,Q as pe,o as Ve,R as et,T as tt,U as lt,V as nt}from"../chunks/index-f844dc3c.js";import{m as Et,c as Tt,d as It,f as Nt,p as Ot,a as ot}from"../chunks/rules-54a27443.js";function Dt(l){let e,t,n,r,o,s,a=l[1]&&st(l);return{c(){e=b("p"),t=M(l[0]),n=L(),a&&a.c(),r=Ne(),this.h()},l(i){e=k(i,"P",{class:!0});var c=y(e);t=j(c,l[0]),c.forEach(d),n=R(i),a&&a.l(i),r=Ne(),this.h()},h(){N(e,"class","svelte-7a28bz")},m(i,c){q(i,e,c),u(e,t),q(i,n,c),a&&a.m(i,c),q(i,r,c),o||(s=F(e,"click",l[7]),o=!0)},p(i,c){c&1&&Me(t,i[0]),i[1]?a?a.p(i,c):(a=st(i),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(i){i&&d(e),i&&d(n),a&&a.d(i),i&&d(r),o=!1,s()}}}function Pt(l){let e,t,n,r,o,s=l[1]&&rt(l);return{c(){e=b("input"),t=L(),s&&s.c(),n=Ne(),this.h()},l(a){e=k(a,"INPUT",{class:!0}),t=R(a),s&&s.l(a),n=Ne(),this.h()},h(){N(e,"class","svelte-7a28bz")},m(a,i){q(a,e,i),Oe(e,l[0]),q(a,t,i),s&&s.m(a,i),q(a,n,i),r||(o=[F(e,"click",zt),F(e,"input",l[5])],r=!0)},p(a,i){i&1&&e.value!==a[0]&&Oe(e,a[0]),a[1]?s?s.p(a,i):(s=rt(a),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(a){a&&d(e),a&&d(t),s&&s.d(a),a&&d(n),r=!1,je(o)}}}function st(l){let e,t,n,r;return{c(){e=b("button"),t=M("edit")},l(o){e=k(o,"BUTTON",{});var s=y(e);t=j(s,"edit"),s.forEach(d)},m(o,s){q(o,e,s),u(e,t),n||(r=F(e,"click",l[8]),n=!0)},p:ce,d(o){o&&d(e),n=!1,r()}}}function rt(l){let e,t,n,r;return{c(){e=b("button"),t=M("done")},l(o){e=k(o,"BUTTON",{});var s=y(e);t=j(s,"done"),s.forEach(d)},m(o,s){q(o,e,s),u(e,t),n||(r=F(e,"click",l[6]),n=!0)},p:ce,d(o){o&&d(e),n=!1,r()}}}function Vt(l){let e;function t(o,s){return o[3]?Pt:Dt}let n=t(l),r=n(l);return{c(){e=b("main"),r.c(),this.h()},l(o){e=k(o,"MAIN",{style:!0,class:!0});var s=y(e);r.l(s),s.forEach(d),this.h()},h(){N(e,"style",l[2]),N(e,"class","svelte-7a28bz")},m(o,s){q(o,e,s),r.m(e,null)},p(o,[s]){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null))),s&4&&N(e,"style",o[2])},i:ce,o:ce,d(o){o&&d(e),r.d()}}}const zt=l=>{l.preventDefault(),l.stopPropagation()};function Ct(l,e,t){let{value:n}=e,{buttons:r=!1}=e,{style:o=""}=e,s=!1;function a(p){t(3,s=p)}function i(p,W){a(W),p.preventDefault(),p.stopPropagation()}wt(()=>{window.addEventListener("click",()=>{t(3,s=!1)})});function c(){n=this.value,t(0,n)}const _=p=>{i(p,!1)},h=p=>{i(p,!0)},O=p=>{i(p,!0)};return l.$$set=p=>{"value"in p&&t(0,n=p.value),"buttons"in p&&t(1,r=p.buttons),"style"in p&&t(2,o=p.style)},[n,r,o,s,i,c,_,h,O]}class at extends Ue{constructor(e){super(),Be(this,e,Ct,Vt,Se,{value:0,buttons:1,style:2})}}function Ut(l){let e,t,n;return{c(){e=b("main"),this.h()},l(r){e=k(r,"MAIN",{style:!0,title:!0,class:!0});var o=y(e);o.forEach(d),this.h()},h(){N(e,"style",t="--bg:"+l[0].color+";"+l[1]),N(e,"title",n=l[0].value),N(e,"class","svelte-14rb7sg"),_e(e,"selectable",l[2]),_e(e,"selected",l[3]),_e(e,"partially-selected",l[4])},m(r,o){q(r,e,o)},p(r,[o]){o&3&&t!==(t="--bg:"+r[0].color+";"+r[1])&&N(e,"style",t),o&1&&n!==(n=r[0].value)&&N(e,"title",n),o&4&&_e(e,"selectable",r[2]),o&8&&_e(e,"selected",r[3]),o&16&&_e(e,"partially-selected",r[4])},i:ce,o:ce,d(r){r&&d(e)}}}function Bt(l,e,t){let{rule:n}=e,{style:r=""}=e,{selectable:o=!1}=e,{selected:s=!1}=e,{partially_selected:a=!1}=e;return l.$$set=i=>{"rule"in i&&t(0,n=i.rule),"style"in i&&t(1,r=i.style),"selectable"in i&&t(2,o=i.selectable),"selected"in i&&t(3,s=i.selected),"partially_selected"in i&&t(4,a=i.partially_selected)},[n,r,o,s,a]}class Le extends Ue{constructor(e){super(),Be(this,e,Bt,Ut,Se,{rule:0,style:1,selectable:2,selected:3,partially_selected:4})}}function it(l,e,t){const n=l.slice();return n[24]=e[t],n[26]=t,n}function ct(l,e,t){const n=l.slice();return n[27]=e[t],n}function ut(l,e,t){const n=l.slice();return n[24]=e[t],n[30]=e,n[26]=t,n}function ft(l,e,t){const n=l.slice();return n[31]=e[t],n}function _t(l,e,t){const n=l.slice();return n[24]=e[t],n}function dt(l,e,t){const n=l.slice();return n[36]=e[t],n[26]=t,n}function ht(l){let e,t,n,r,o;t=new Le({props:{rule:l[36],selectable:!0,selected:l[5]==l[26],partially_selected:l[4]==l[26]&&l[5]!=l[26]}});function s(){return l[15](l[26])}function a(...i){return l[16](l[26],...i)}return{c(){e=b("div"),ge(t.$$.fragment),this.h()},l(i){e=k(i,"DIV",{class:!0});var c=y(e);be(t.$$.fragment,c),c.forEach(d),this.h()},h(){N(e,"class","rule-wrapper")},m(i,c){q(i,e,c),ke(t,e,null),n=!0,r||(o=[F(e,"click",s),F(e,"mouseover",a),F(e,"focus",Lt)],r=!0)},p(i,c){l=i;const _={};c[0]&1&&(_.rule=l[36]),c[0]&32&&(_.selected=l[5]==l[26]),c[0]&48&&(_.partially_selected=l[4]==l[26]&&l[5]!=l[26]),t.$set(_)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){i&&d(e),ye(t),r=!1,je(o)}}}function mt(l){let e,t=l[24]+"",n,r,o,s,a,i;function c(){return l[17](l[24])}return{c(){e=b("div"),n=M(t),r=L(),o=b("button"),s=M("\xD7"),this.h()},l(_){e=k(_,"DIV",{class:!0});var h=y(e);n=j(h,t),r=R(h),o=k(h,"BUTTON",{class:!0});var O=y(o);s=j(O,"\xD7"),O.forEach(d),h.forEach(d),this.h()},h(){N(o,"class","svelte-4k8o2m"),N(e,"class","available-connector svelte-4k8o2m"),_e(e,"shadow",!l[1].includes(l[24]))},m(_,h){q(_,e,h),u(e,n),u(e,r),u(e,o),u(o,s),a||(i=F(o,"click",c),a=!0)},p(_,h){l=_,h[0]&8&&t!==(t=l[24]+"")&&Me(n,t),h[0]&10&&_e(e,"shadow",!l[1].includes(l[24]))},d(_){_&&d(e),a=!1,i()}}}function St(l){let e,t;return{c(){e=b("h1"),t=M("Please select a tile from the left"),this.h()},l(n){e=k(n,"H1",{class:!0});var r=y(e);t=j(r,"Please select a tile from the left"),r.forEach(d),this.h()},h(){N(e,"class","svelte-4k8o2m")},m(n,r){q(n,e,r),u(e,t)},p:ce,i:ce,o:ce,d(n){n&&d(e)}}}function Mt(l){let e,t,n,r,o,s,a,i,c,_,h,O,p,W,D,C,se,re,H,ae,oe;n=new Le({props:{rule:l[0][l[5]],style:"min-width:100px;min-height:100px;transform: translate(-50%,-50%);"}});let Q=l[0][l[5]].connectors,U=[];for(let f=0;f<Q.length;f+=1)U[f]=pt(ut(l,Q,f));let Y=l[0][l[5]].connectors,w=[];for(let f=0;f<Y.length;f+=1)w[f]=bt(it(l,Y,f));const ue=f=>Z(w[f],1,1,()=>{w[f]=null});function T(f){l[21](f)}let A={style:"flex:1;"};l[0][l[5]].value!==void 0&&(A.value=l[0][l[5]].value),O=new at({props:A}),tt.push(()=>lt(O,"value",T));function ie(f){l[22](f)}let x={style:"flex:1;"};return l[0][l[5]].color!==void 0&&(x.value=l[0][l[5]].color),H=new at({props:x}),tt.push(()=>lt(H,"value",ie)),{c(){e=b("div"),t=b("div"),ge(n.$$.fragment),r=L();for(let f=0;f<U.length;f+=1)U[f].c();o=L();for(let f=0;f<w.length;f+=1)w[f].c();s=L(),a=b("div"),i=b("div"),c=b("p"),_=M("Name:"),h=L(),ge(O.$$.fragment),W=L(),D=b("div"),C=b("p"),se=M("Color:"),re=L(),ge(H.$$.fragment),this.h()},l(f){e=k(f,"DIV",{style:!0});var I=y(e);t=k(I,"DIV",{style:!0});var V=y(t);be(n.$$.fragment,V),V.forEach(d),r=R(I);for(let ne=0;ne<U.length;ne+=1)U[ne].l(I);o=R(I);for(let ne=0;ne<w.length;ne+=1)w[ne].l(I);I.forEach(d),s=R(f),a=k(f,"DIV",{class:!0});var $=y(a);i=k($,"DIV",{style:!0,class:!0});var S=y(i);c=k(S,"P",{style:!0,class:!0});var m=y(c);_=j(m,"Name:"),m.forEach(d),h=R(S),be(O.$$.fragment,S),S.forEach(d),W=R($),D=k($,"DIV",{style:!0,class:!0});var X=y(D);C=k(X,"P",{style:!0,class:!0});var G=y(C);se=j(G,"Color:"),G.forEach(d),re=R(X),be(H.$$.fragment,X),X.forEach(d),$.forEach(d),this.h()},h(){g(t,"width","0"),g(t,"height","0"),g(e,"flex","1"),g(e,"justify-content","center"),g(e,"display","flex"),g(e,"align-items","center"),g(e,"min-width","750px"),g(e,"min-height","750px"),g(c,"flex","1"),N(c,"class","svelte-4k8o2m"),g(i,"display","flex"),g(i,"justify-content","space-between"),g(i,"border-bottom","1px solid #555"),N(i,"class","svelte-4k8o2m"),g(C,"flex","1"),N(C,"class","svelte-4k8o2m"),g(D,"display","flex"),g(D,"justify-content","space-between"),g(D,"border-bottom","1px solid #555"),N(D,"class","svelte-4k8o2m"),N(a,"class","properties svelte-4k8o2m")},m(f,I){q(f,e,I),u(e,t),ke(n,t,null),u(e,r);for(let V=0;V<U.length;V+=1)U[V].m(e,null);u(e,o);for(let V=0;V<w.length;V+=1)w[V].m(e,null);q(f,s,I),q(f,a,I),u(a,i),u(i,c),u(c,_),u(i,h),ke(O,i,null),u(a,W),u(a,D),u(D,C),u(C,se),u(D,re),ke(H,D,null),oe=!0},p(f,I){const V={};if(I[0]&33&&(V.rule=f[0][f[5]]),n.$set(V),I[0]&169){Q=f[0][f[5]].connectors;let m;for(m=0;m<Q.length;m+=1){const X=ut(f,Q,m);U[m]?U[m].p(X,I):(U[m]=pt(X),U[m].c(),U[m].m(e,o))}for(;m<U.length;m+=1)U[m].d(1);U.length=Q.length}if(I[0]&417){Y=f[0][f[5]].connectors;let m;for(m=0;m<Y.length;m+=1){const X=it(f,Y,m);w[m]?(w[m].p(X,I),K(w[m],1)):(w[m]=bt(X),w[m].c(),K(w[m],1),w[m].m(e,null))}for(Ve(),m=Y.length;m<w.length;m+=1)ue(m);Pe()}const $={};!p&&I[0]&33&&(p=!0,$.value=f[0][f[5]].value,nt(()=>p=!1)),O.$set($);const S={};!ae&&I[0]&33&&(ae=!0,S.value=f[0][f[5]].color,nt(()=>ae=!1)),H.$set(S)},i(f){if(!oe){K(n.$$.fragment,f);for(let I=0;I<Y.length;I+=1)K(w[I]);K(O.$$.fragment,f),K(H.$$.fragment,f),oe=!0}},o(f){Z(n.$$.fragment,f),w=w.filter(Boolean);for(let I=0;I<w.length;I+=1)Z(w[I]);Z(O.$$.fragment,f),Z(H.$$.fragment,f),oe=!1},d(f){f&&d(e),ye(n),pe(U,f),pe(w,f),f&&d(s),f&&d(a),ye(O),ye(H)}}}function vt(l){let e,t=l[31]+"",n,r;return{c(){e=b("option"),n=M(t),this.h()},l(o){e=k(o,"OPTION",{});var s=y(e);n=j(s,t),s.forEach(d),this.h()},h(){e.__value=r=l[31],e.value=e.__value},m(o,s){q(o,e,s),u(e,n)},p(o,s){s[0]&8&&t!==(t=o[31]+"")&&Me(n,t),s[0]&8&&r!==(r=o[31])&&(e.__value=r,e.value=e.__value)},d(o){o&&d(e)}}}function pt(l){let e,t,n,r,o=l[3],s=[];for(let i=0;i<o.length;i+=1)s[i]=vt(ft(l,o,i));function a(){l[19].call(t,l[30],l[26])}return{c(){e=b("div"),t=b("select");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var c=y(e);t=k(c,"SELECT",{class:!0});var _=y(t);for(let h=0;h<s.length;h+=1)s[h].l(_);_.forEach(d),c.forEach(d),this.h()},h(){N(t,"class","connector-content svelte-4k8o2m"),l[24][0]===void 0&&kt(a),N(e,"class","connector svelte-4k8o2m"),g(e,"transform",l[7][l[26]])},m(i,c){q(i,e,c),u(e,t);for(let _=0;_<s.length;_+=1)s[_].m(t,null);De(t,l[24][0]),n||(r=F(t,"change",a),n=!0)},p(i,c){if(l=i,c[0]&8){o=l[3];let _;for(_=0;_<o.length;_+=1){const h=ft(l,o,_);s[_]?s[_].p(h,c):(s[_]=vt(h),s[_].c(),s[_].m(t,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=o.length}c[0]&41&&De(t,l[24][0])},d(i){i&&d(e),pe(s,i),n=!1,r()}}}function gt(l){let e,t;return e=new Le({props:{rule:l[27]}}),{c(){ge(e.$$.fragment)},l(n){be(e.$$.fragment,n)},m(n,r){ke(e,n,r),t=!0},p(n,r){const o={};r[0]&33&&(o.rule=n[27]),e.$set(o)},i(n){t||(K(e.$$.fragment,n),t=!0)},o(n){Z(e.$$.fragment,n),t=!1},d(n){ye(e,n)}}}function bt(l){let e,t,n,r;function o(...c){return l[20](l[26],l[24],...c)}let s=l[0].filter(o),a=[];for(let c=0;c<s.length;c+=1)a[c]=gt(ct(l,s,c));const i=c=>Z(a[c],1,1,()=>{a[c]=null});return{c(){e=b("div"),t=b("div");for(let c=0;c<a.length;c+=1)a[c].c();n=L(),this.h()},l(c){e=k(c,"DIV",{class:!0,style:!0});var _=y(e);t=k(_,"DIV",{class:!0});var h=y(t);for(let O=0;O<a.length;O+=1)a[O].l(h);h.forEach(d),n=R(_),_.forEach(d),this.h()},h(){N(t,"class","possible-content svelte-4k8o2m"),N(e,"class","possible svelte-4k8o2m"),g(e,"transform",l[7][l[26]])},m(c,_){q(c,e,_),u(e,t);for(let h=0;h<a.length;h+=1)a[h].m(t,null);u(e,n),r=!0},p(c,_){if(l=c,_[0]&289){s=l[0].filter(o);let h;for(h=0;h<s.length;h+=1){const O=ct(l,s,h);a[h]?(a[h].p(O,_),K(a[h],1)):(a[h]=gt(O),a[h].c(),K(a[h],1),a[h].m(t,null))}for(Ve(),h=s.length;h<a.length;h+=1)i(h);Pe()}},i(c){if(!r){for(let _=0;_<s.length;_+=1)K(a[_]);r=!0}},o(c){a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)Z(a[_]);r=!1},d(c){c&&d(e),pe(a,c)}}}function jt(l){let e,t,n,r,o,s,a,i,c,_,h,O,p,W,D,C,se,re,H,ae,oe,Q,U,Y,w,ue,T,A,ie,x,f,I,V,$,S,m,X,G,ne,ze,de,ee,te,we,Ce,Re,he=l[0],z=[];for(let v=0;v<he.length;v+=1)z[v]=ht(dt(l,he,v));const yt=v=>Z(z[v],1,1,()=>{z[v]=null});let ve=l[3],J=[];for(let v=0;v<ve.length;v+=1)J[v]=mt(_t(l,ve,v));const qe=[Mt,St],fe=[];function Ae(v,P){return v[5]!=null&&v[0]!=null&&v[0]!=[]?0:1}return ee=Ae(l),te=fe[ee]=qe[ee](l),{c(){e=b("main"),t=b("div"),n=b("div"),r=b("select"),o=b("option"),s=M("Dungeon"),a=b("option"),i=M("Minecraft"),c=b("option"),_=M("Checkers"),h=b("option"),O=M("Layers"),p=b("option"),W=M("Flowers"),D=L(),C=b("button"),se=M("export"),re=L(),H=b("button"),ae=M("new"),oe=L(),Q=b("h3"),U=M("Tiles"),Y=L(),w=b("div");for(let v=0;v<z.length;v+=1)z[v].c();ue=L(),T=b("button"),A=M("+"),ie=L(),x=b("h3"),f=M("Connectors"),I=L(),V=b("div");for(let v=0;v<J.length;v+=1)J[v].c();$=L(),S=b("div"),m=b("input"),X=L(),G=b("button"),ne=M("+"),ze=L(),de=b("div"),te.c(),this.h()},l(v){e=k(v,"MAIN",{class:!0});var P=y(e);t=k(P,"DIV",{class:!0});var B=y(t);n=k(B,"DIV",{style:!0});var E=y(n);r=k(E,"SELECT",{});var le=y(r);o=k(le,"OPTION",{});var He=y(o);s=j(He,"Dungeon"),He.forEach(d),a=k(le,"OPTION",{});var Fe=y(a);i=j(Fe,"Minecraft"),Fe.forEach(d),c=k(le,"OPTION",{});var Je=y(c);_=j(Je,"Checkers"),Je.forEach(d),h=k(le,"OPTION",{});var Ke=y(h);O=j(Ke,"Layers"),Ke.forEach(d),p=k(le,"OPTION",{});var Qe=y(p);W=j(Qe,"Flowers"),Qe.forEach(d),le.forEach(d),D=R(E),C=k(E,"BUTTON",{});var Ge=y(C);se=j(Ge,"export"),Ge.forEach(d),re=R(E),H=k(E,"BUTTON",{});var We=y(H);ae=j(We,"new"),We.forEach(d),E.forEach(d),oe=R(B),Q=k(B,"H3",{style:!0});var Xe=y(Q);U=j(Xe,"Tiles"),Xe.forEach(d),Y=R(B),w=k(B,"DIV",{class:!0});var Ee=y(w);for(let me=0;me<z.length;me+=1)z[me].l(Ee);ue=R(Ee),T=k(Ee,"BUTTON",{class:!0});var Ye=y(T);A=j(Ye,"+"),Ye.forEach(d),Ee.forEach(d),ie=R(B),x=k(B,"H3",{});var Ze=y(x);f=j(Ze,"Connectors"),Ze.forEach(d),I=R(B),V=k(B,"DIV",{class:!0});var Te=y(V);for(let me=0;me<J.length;me+=1)J[me].l(Te);$=R(Te),S=k(Te,"DIV",{style:!0});var Ie=y(S);m=k(Ie,"INPUT",{style:!0}),X=R(Ie),G=k(Ie,"BUTTON",{style:!0});var xe=y(G);ne=j(xe,"+"),xe.forEach(d),Ie.forEach(d),Te.forEach(d),B.forEach(d),ze=R(P),de=k(P,"DIV",{class:!0});var $e=y(de);te.l($e),$e.forEach(d),P.forEach(d),this.h()},h(){o.__value="5",o.value=o.__value,a.__value="0",a.value=a.__value,c.__value="1",c.value=c.__value,h.__value="2",h.value=h.__value,p.__value="3",p.value=p.__value,l[2]===void 0&&kt(()=>l[14].call(r)),g(n,"display","flex"),g(n,"gap",".25em"),g(n,"flex-wrap","wrap"),g(Q,"margin-block","0"),N(T,"class","add-tile svelte-4k8o2m"),N(w,"class","selection svelte-4k8o2m"),g(m,"height","2em"),g(m,"width","8em"),g(m,"border","none"),g(m,"background-color","#191919"),g(m,"padding-top","0px"),g(m,"padding-bottom","0px"),g(m,"outline","none"),g(m,"font-size","1em"),g(m,"padding-left",".5em"),g(G,"height","2em"),g(G,"box-sizing","content-box"),g(G,"border","none"),g(G,"padding-top","0px"),g(G,"padding-bottom","0px"),g(G,"font-size","1em"),g(S,"display","flex"),g(S,"background-color","#191919"),g(S,"border","1px solid #2d2c2d"),g(S,"border-radius",".25rem"),g(S,"overflow","hidden"),N(V,"class","available-connectors svelte-4k8o2m"),N(t,"class","browser svelte-4k8o2m"),N(de,"class","editor svelte-4k8o2m"),N(e,"class","svelte-4k8o2m")},m(v,P){q(v,e,P),u(e,t),u(t,n),u(n,r),u(r,o),u(o,s),u(r,a),u(a,i),u(r,c),u(c,_),u(r,h),u(h,O),u(r,p),u(p,W),De(r,l[2]),u(n,D),u(n,C),u(C,se),u(n,re),u(n,H),u(H,ae),u(t,oe),u(t,Q),u(Q,U),u(t,Y),u(t,w);for(let B=0;B<z.length;B+=1)z[B].m(w,null);u(w,ue),u(w,T),u(T,A),u(t,ie),u(t,x),u(x,f),u(t,I),u(t,V);for(let B=0;B<J.length;B+=1)J[B].m(V,null);u(V,$),u(V,S),u(S,m),Oe(m,l[6]),u(S,X),u(S,G),u(G,ne),u(e,ze),u(e,de),fe[ee].m(de,null),we=!0,Ce||(Re=[F(r,"change",l[14]),F(C,"click",l[10]),F(H,"click",l[9]),F(T,"click",l[11]),F(m,"input",l[18]),F(G,"click",l[13]),F(e,"mouseover",l[23]),F(e,"focus",Rt)],Ce=!0)},p(v,P){if(P[0]&4&&De(r,v[2]),P[0]&49){he=v[0];let E;for(E=0;E<he.length;E+=1){const le=dt(v,he,E);z[E]?(z[E].p(le,P),K(z[E],1)):(z[E]=ht(le),z[E].c(),K(z[E],1),z[E].m(w,ue))}for(Ve(),E=he.length;E<z.length;E+=1)yt(E);Pe()}if(P[0]&4106){ve=v[3];let E;for(E=0;E<ve.length;E+=1){const le=_t(v,ve,E);J[E]?J[E].p(le,P):(J[E]=mt(le),J[E].c(),J[E].m(V,$))}for(;E<J.length;E+=1)J[E].d(1);J.length=ve.length}P[0]&64&&m.value!==v[6]&&Oe(m,v[6]);let B=ee;ee=Ae(v),ee===B?fe[ee].p(v,P):(Ve(),Z(fe[B],1,1,()=>{fe[B]=null}),Pe(),te=fe[ee],te?te.p(v,P):(te=fe[ee]=qe[ee](v),te.c()),K(te,1),te.m(de,null))},i(v){if(!we){for(let P=0;P<he.length;P+=1)K(z[P]);K(te),we=!0}},o(v){z=z.filter(Boolean);for(let P=0;P<z.length;P+=1)Z(z[P]);Z(te),we=!1},d(v){v&&d(e),pe(z,v),pe(J,v),fe[ee].d(),Ce=!1,je(Re)}}}const Lt=()=>{},Rt=()=>{};function qt(l,e,t){const n=["translate( 0,  var(--sm))","translate(var(--sm), 0px)","translate( 0,   var(--s))","translate( var(--s), 0px)"],r={0:2,1:3,2:0,3:1};let o=ot,s=[],a=[];function i(){t(0,o=[])}function c(){alert(JSON.stringify(o))}function _(){let T=prompt("Tile name");if(T==null)return;let A=prompt("Tile color");A!=null&&(o.push({value:T,color:A,connectors:[[],[],[],[]]}),t(0,o),t(2,p))}function h(T){for(let A of o)A.connectors=A.connectors.map(ie=>ie.filter(x=>x!==T));t(0,o),t(2,p)}function O(){C!=null&&C!==""&&(t(3,s=[...s,C]),console.log("Added new connector",C))}let p="5",W,D,C;function se(){p=et(this),t(2,p)}const re=T=>{t(5,D=T),t(4,W=T)},H=(T,A)=>{t(5,D=T),A.preventDefault(),A.stopPropagation()},ae=T=>{h(T)};function oe(){C=this.value,t(6,C)}function Q(T,A){T[A][0]=et(this),t(0,o),t(2,p),t(5,D),t(2,p),t(3,s),t(0,o),t(1,a),t(2,p)}const U=(T,A,ie)=>ie.connectors[r[T]].filter(x=>A.includes(x)).length>0;function Y(T){l.$$.not_equal(o[D].value,T)&&(o[D].value=T,t(0,o),t(2,p))}function w(T){l.$$.not_equal(o[D].color,T)&&(o[D].color=T,t(0,o),t(2,p))}const ue=()=>{t(5,D=W)};return l.$$.update=()=>{l.$$.dirty[0]&4&&p!=null&&(t(0,o=[Et,Tt,It,Nt,Ot,ot][+p]),t(4,W=null),t(5,D=null)),l.$$.dirty[0]&3&&o!=null&&(t(1,a=[...new Set(o.map(T=>T.connectors.flat()).flat())]),t(3,s=[...a]))},[o,a,p,s,W,D,C,n,r,i,c,_,h,O,se,re,H,ae,oe,Q,U,Y,w,ue]}class Ft extends Ue{constructor(e){super(),Be(this,e,qt,jt,Se,{},null,[-1,-1])}}export{Ft as default};
