import{S as Re,i as qe,s as Ae,e as p,c as g,a as y,d as _,b as V,g as H,n as ue,w as Ol,t as z,h as S,J as u,K,k as q,l as De,m as A,j as ze,L as Pe,M as Se,N as _e,x as ke,y as ye,z as we,r as Y,p as le,C as Ee,O as Le,f as T,P as be,q as Ve,Q as pe,o as Ce,R as je,T as sl,U as rl,V as al}from"../chunks/index-f844dc3c.js";import{m as Dl,c as Pl,d as Vl,f as Cl,p as zl,a as il,s as Sl}from"../chunks/rules-db6c3db7.js";function Ul(l){let e,t,n,s,o,c,r=l[1]&&cl(l);return{c(){e=p("p"),t=z(l[0]),n=q(),r&&r.c(),s=De(),this.h()},l(a){e=g(a,"P",{class:!0});var i=y(e);t=S(i,l[0]),i.forEach(_),n=A(a),r&&r.l(a),s=De(),this.h()},h(){V(e,"class","svelte-7a28bz")},m(a,i){H(a,e,i),u(e,t),H(a,n,i),r&&r.m(a,i),H(a,s,i),o||(c=K(e,"click",l[7]),o=!0)},p(a,i){i&1&&ze(t,a[0]),a[1]?r?r.p(a,i):(r=cl(a),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(a){a&&_(e),a&&_(n),r&&r.d(a),a&&_(s),o=!1,c()}}}function Bl(l){let e,t,n,s,o,c=l[1]&&ul(l);return{c(){e=p("input"),t=q(),c&&c.c(),n=De(),this.h()},l(r){e=g(r,"INPUT",{class:!0}),t=A(r),c&&c.l(r),n=De(),this.h()},h(){V(e,"class","svelte-7a28bz")},m(r,a){H(r,e,a),Pe(e,l[0]),H(r,t,a),c&&c.m(r,a),H(r,n,a),s||(o=[K(e,"click",jl),K(e,"input",l[5])],s=!0)},p(r,a){a&1&&e.value!==r[0]&&Pe(e,r[0]),r[1]?c?c.p(r,a):(c=ul(r),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(r){r&&_(e),r&&_(t),c&&c.d(r),r&&_(n),s=!1,Se(o)}}}function cl(l){let e,t,n,s;return{c(){e=p("button"),t=z("edit")},l(o){e=g(o,"BUTTON",{});var c=y(e);t=S(c,"edit"),c.forEach(_)},m(o,c){H(o,e,c),u(e,t),n||(s=K(e,"click",l[8]),n=!0)},p:ue,d(o){o&&_(e),n=!1,s()}}}function ul(l){let e,t,n,s;return{c(){e=p("button"),t=z("done")},l(o){e=g(o,"BUTTON",{});var c=y(e);t=S(c,"done"),c.forEach(_)},m(o,c){H(o,e,c),u(e,t),n||(s=K(e,"click",l[6]),n=!0)},p:ue,d(o){o&&_(e),n=!1,s()}}}function Ml(l){let e;function t(o,c){return o[3]?Bl:Ul}let n=t(l),s=n(l);return{c(){e=p("main"),s.c(),this.h()},l(o){e=g(o,"MAIN",{style:!0,class:!0});var c=y(e);s.l(c),c.forEach(_),this.h()},h(){V(e,"style",l[2]),V(e,"class","svelte-7a28bz")},m(o,c){H(o,e,c),s.m(e,null)},p(o,[c]){n===(n=t(o))&&s?s.p(o,c):(s.d(1),s=n(o),s&&(s.c(),s.m(e,null))),c&4&&V(e,"style",o[2])},i:ue,o:ue,d(o){o&&_(e),s.d()}}}const jl=l=>{l.preventDefault(),l.stopPropagation()};function Ll(l,e,t){let{value:n}=e,{buttons:s=!1}=e,{style:o=""}=e,c=!1;function r(m){t(3,c=m)}function a(m,E){r(E),m.preventDefault(),m.stopPropagation()}Ol(()=>{window.addEventListener("click",()=>{t(3,c=!1)})});function i(){n=this.value,t(0,n)}const b=m=>{a(m,!1)},d=m=>{a(m,!0)},k=m=>{a(m,!0)};return l.$$set=m=>{"value"in m&&t(0,n=m.value),"buttons"in m&&t(1,s=m.buttons),"style"in m&&t(2,o=m.style)},[n,s,o,c,a,i,b,d,k]}class fl extends Re{constructor(e){super(),qe(this,e,Ll,Ml,Ae,{value:0,buttons:1,style:2})}}function Rl(l){let e,t,n;return{c(){e=p("main"),this.h()},l(s){e=g(s,"MAIN",{style:!0,title:!0,class:!0});var o=y(e);o.forEach(_),this.h()},h(){V(e,"style",t="--bg:"+l[0].color+";"+l[1]),V(e,"title",n=l[0].value),V(e,"class","svelte-14rb7sg"),_e(e,"selectable",l[2]),_e(e,"selected",l[3]),_e(e,"partially-selected",l[4])},m(s,o){H(s,e,o)},p(s,[o]){o&3&&t!==(t="--bg:"+s[0].color+";"+s[1])&&V(e,"style",t),o&1&&n!==(n=s[0].value)&&V(e,"title",n),o&4&&_e(e,"selectable",s[2]),o&8&&_e(e,"selected",s[3]),o&16&&_e(e,"partially-selected",s[4])},i:ue,o:ue,d(s){s&&_(e)}}}function ql(l,e,t){let{rule:n}=e,{style:s=""}=e,{selectable:o=!1}=e,{selected:c=!1}=e,{partially_selected:r=!1}=e;return l.$$set=a=>{"rule"in a&&t(0,n=a.rule),"style"in a&&t(1,s=a.style),"selectable"in a&&t(2,o=a.selectable),"selected"in a&&t(3,c=a.selected),"partially_selected"in a&&t(4,r=a.partially_selected)},[n,s,o,c,r]}class He extends Re{constructor(e){super(),qe(this,e,ql,Rl,Ae,{rule:0,style:1,selectable:2,selected:3,partially_selected:4})}}function _l(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function hl(l,e,t){const n=l.slice();return n[29]=e[t],n}function dl(l,e,t){const n=l.slice();return n[26]=e[t],n[32]=e,n[28]=t,n}function ml(l,e,t){const n=l.slice();return n[33]=e[t],n}function vl(l,e,t){const n=l.slice();return n[33]=e[t],n[37]=t,n}function pl(l,e,t){const n=l.slice();return n[26]=e[t],n}function gl(l,e,t){const n=l.slice();return n[40]=e[t],n[28]=t,n}function bl(l){let e,t,n,s,o;t=new He({props:{rule:l[40],selectable:!0,selected:l[5]==l[28],partially_selected:l[4]==l[28]&&l[5]!=l[28]}});function c(){return l[16](l[28])}function r(...a){return l[17](l[28],...a)}return{c(){e=p("div"),ke(t.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var i=y(e);ye(t.$$.fragment,i),i.forEach(_),this.h()},h(){V(e,"class","rule-wrapper")},m(a,i){H(a,e,i),we(t,e,null),n=!0,s||(o=[K(e,"click",c),K(e,"mouseover",r),K(e,"focus",Jl)],s=!0)},p(a,i){l=a;const b={};i[0]&1&&(b.rule=l[40]),i[0]&32&&(b.selected=l[5]==l[28]),i[0]&48&&(b.partially_selected=l[4]==l[28]&&l[5]!=l[28]),t.$set(b)},i(a){n||(Y(t.$$.fragment,a),n=!0)},o(a){le(t.$$.fragment,a),n=!1},d(a){a&&_(e),Ee(t),s=!1,Se(o)}}}function kl(l){let e,t=l[26]+"",n,s,o,c,r,a;function i(){return l[18](l[26])}return{c(){e=p("div"),n=z(t),s=q(),o=p("button"),c=z("\xD7"),this.h()},l(b){e=g(b,"DIV",{class:!0});var d=y(e);n=S(d,t),s=A(d),o=g(d,"BUTTON",{class:!0});var k=y(o);c=S(k,"\xD7"),k.forEach(_),d.forEach(_),this.h()},h(){V(o,"class","svelte-4k8o2m"),V(e,"class","available-connector svelte-4k8o2m"),_e(e,"shadow",!l[1].includes(l[26]))},m(b,d){H(b,e,d),u(e,n),u(e,s),u(e,o),u(o,c),r||(a=K(o,"click",i),r=!0)},p(b,d){l=b,d[0]&8&&t!==(t=l[26]+"")&&ze(n,t),d[0]&10&&_e(e,"shadow",!l[1].includes(l[26]))},d(b){b&&_(e),r=!1,a()}}}function Al(l){let e,t;return{c(){e=p("h1"),t=z("Please select a tile from the left"),this.h()},l(n){e=g(n,"H1",{class:!0});var s=y(e);t=S(s,"Please select a tile from the left"),s.forEach(_),this.h()},h(){V(e,"class","svelte-4k8o2m")},m(n,s){H(n,e,s),u(e,t)},p:ue,i:ue,o:ue,d(n){n&&_(e)}}}function Hl(l){let e,t,n,s,o,c,r,a,i,b,d,k,m,E,w,h,R,Z,U,ie,x;n=new He({props:{rule:l[0][l[5]],style:"min-width:100px;min-height:100px;transform: translate(-50%,-50%);"}});let te=l[0][l[5]].connectors,j=[];for(let f=0;f<te.length;f+=1)j[f]=El(dl(l,te,f));let W=l[0][l[5]].connectors,P=[];for(let f=0;f<W.length;f+=1)P[f]=Il(_l(l,W,f));const he=f=>le(P[f],1,1,()=>{P[f]=null});function $(f){l[23](f)}let ce={style:"flex:1;"};l[0][l[5]].value!==void 0&&(ce.value=l[0][l[5]].value),k=new fl({props:ce}),sl.push(()=>rl(k,"value",$));function I(f){l[24](f)}let F={style:"flex:1;"};return l[0][l[5]].color!==void 0&&(F.value=l[0][l[5]].color),U=new fl({props:F}),sl.push(()=>rl(U,"value",I)),{c(){e=p("div"),t=p("div"),ke(n.$$.fragment),s=q();for(let f=0;f<j.length;f+=1)j[f].c();o=q();for(let f=0;f<P.length;f+=1)P[f].c();c=q(),r=p("div"),a=p("div"),i=p("p"),b=z("Name:"),d=q(),ke(k.$$.fragment),E=q(),w=p("div"),h=p("p"),R=z("Color:"),Z=q(),ke(U.$$.fragment),this.h()},l(f){e=g(f,"DIV",{style:!0});var N=y(e);t=g(N,"DIV",{style:!0});var Q=y(t);ye(n.$$.fragment,Q),Q.forEach(_),s=A(N);for(let ae=0;ae<j.length;ae+=1)j[ae].l(N);o=A(N);for(let ae=0;ae<P.length;ae+=1)P[ae].l(N);N.forEach(_),c=A(f),r=g(f,"DIV",{class:!0});var re=y(r);a=g(re,"DIV",{style:!0,class:!0});var G=y(a);i=g(G,"P",{style:!0,class:!0});var O=y(i);b=S(O,"Name:"),O.forEach(_),d=A(G),ye(k.$$.fragment,G),G.forEach(_),E=A(re),w=g(re,"DIV",{style:!0,class:!0});var B=y(w);h=g(B,"P",{style:!0,class:!0});var J=y(h);R=S(J,"Color:"),J.forEach(_),Z=A(B),ye(U.$$.fragment,B),B.forEach(_),re.forEach(_),this.h()},h(){T(t,"width","0"),T(t,"height","0"),T(e,"flex","1"),T(e,"justify-content","center"),T(e,"display","flex"),T(e,"align-items","center"),T(e,"min-width","750px"),T(e,"min-height","750px"),T(i,"flex","1"),V(i,"class","svelte-4k8o2m"),T(a,"display","flex"),T(a,"justify-content","space-between"),T(a,"border-bottom","1px solid #555"),V(a,"class","svelte-4k8o2m"),T(h,"flex","1"),V(h,"class","svelte-4k8o2m"),T(w,"display","flex"),T(w,"justify-content","space-between"),T(w,"border-bottom","1px solid #555"),V(w,"class","svelte-4k8o2m"),V(r,"class","properties svelte-4k8o2m")},m(f,N){H(f,e,N),u(e,t),we(n,t,null),u(e,s);for(let Q=0;Q<j.length;Q+=1)j[Q].m(e,null);u(e,o);for(let Q=0;Q<P.length;Q+=1)P[Q].m(e,null);H(f,c,N),H(f,r,N),u(r,a),u(a,i),u(i,b),u(a,d),we(k,a,null),u(r,E),u(r,w),u(w,h),u(h,R),u(w,Z),we(U,w,null),x=!0},p(f,N){const Q={};if(N[0]&33&&(Q.rule=f[0][f[5]]),n.$set(Q),N[0]&425){te=f[0][f[5]].connectors;let O;for(O=0;O<te.length;O+=1){const B=dl(f,te,O);j[O]?j[O].p(B,N):(j[O]=El(B),j[O].c(),j[O].m(e,o))}for(;O<j.length;O+=1)j[O].d(1);j.length=te.length}if(N[0]&801){W=f[0][f[5]].connectors;let O;for(O=0;O<W.length;O+=1){const B=_l(f,W,O);P[O]?(P[O].p(B,N),Y(P[O],1)):(P[O]=Il(B),P[O].c(),Y(P[O],1),P[O].m(e,null))}for(Ce(),O=W.length;O<P.length;O+=1)he(O);Ve()}const re={};!m&&N[0]&33&&(m=!0,re.value=f[0][f[5]].value,al(()=>m=!1)),k.$set(re);const G={};!ie&&N[0]&33&&(ie=!0,G.value=f[0][f[5]].color,al(()=>ie=!1)),U.$set(G)},i(f){if(!x){Y(n.$$.fragment,f);for(let N=0;N<W.length;N+=1)Y(P[N]);Y(k.$$.fragment,f),Y(U.$$.fragment,f),x=!0}},o(f){le(n.$$.fragment,f),P=P.filter(Boolean);for(let N=0;N<P.length;N+=1)le(P[N]);le(k.$$.fragment,f),le(U.$$.fragment,f),x=!1},d(f){f&&_(e),Ee(n),pe(j,f),pe(P,f),f&&_(c),f&&_(r),Ee(k),Ee(U)}}}function yl(l){let e,t=l[37]+1+"",n,s,o=l[26].length+"",c,r;return{c(){e=p("option"),n=z(t),s=z("/"),c=z(o),this.h()},l(a){e=g(a,"OPTION",{});var i=y(e);n=S(i,t),s=S(i,"/"),c=S(i,o),i.forEach(_),this.h()},h(){e.__value=r=l[37],e.value=e.__value},m(a,i){H(a,e,i),u(e,n),u(e,s),u(e,c)},p(a,i){i[0]&33&&o!==(o=a[26].length+"")&&ze(c,o)},d(a){a&&_(e)}}}function wl(l){let e,t=l[33]+"",n,s;return{c(){e=p("option"),n=z(t),this.h()},l(o){e=g(o,"OPTION",{});var c=y(e);n=S(c,t),c.forEach(_),this.h()},h(){e.__value=s=l[33],e.value=e.__value},m(o,c){H(o,e,c),u(e,n)},p(o,c){c[0]&8&&t!==(t=o[33]+"")&&ze(n,t),c[0]&8&&s!==(s=o[33])&&(e.__value=s,e.value=e.__value)},d(o){o&&_(e)}}}function El(l){let e,t,n,s,o,c,r,a=l[26],i=[];for(let E=0;E<a.length;E+=1)i[E]=yl(vl(l,a,E));function b(){l[20].call(n,l[28])}let d=l[3],k=[];for(let E=0;E<d.length;E+=1)k[E]=wl(ml(l,d,E));function m(){l[21].call(o,l[28],l[32])}return{c(){e=p("div"),t=p("div"),n=p("select");for(let E=0;E<i.length;E+=1)i[E].c();s=q(),o=p("select");for(let E=0;E<k.length;E+=1)k[E].c();this.h()},l(E){e=g(E,"DIV",{class:!0,style:!0});var w=y(e);t=g(w,"DIV",{class:!0});var h=y(t);n=g(h,"SELECT",{});var R=y(n);for(let U=0;U<i.length;U+=1)i[U].l(R);R.forEach(_),s=A(h),o=g(h,"SELECT",{});var Z=y(o);for(let U=0;U<k.length;U+=1)k[U].l(Z);Z.forEach(_),h.forEach(_),w.forEach(_),this.h()},h(){l[7][l[28]]===void 0&&Le(b),l[26][+l[7][l[28]]]===void 0&&Le(m),V(t,"class","connector-content svelte-4k8o2m"),V(e,"class","connector svelte-4k8o2m"),T(e,"transform",l[8][l[28]])},m(E,w){H(E,e,w),u(e,t),u(t,n);for(let h=0;h<i.length;h+=1)i[h].m(n,null);be(n,l[7][l[28]]),u(t,s),u(t,o);for(let h=0;h<k.length;h+=1)k[h].m(o,null);be(o,l[26][+l[7][l[28]]]),c||(r=[K(n,"change",b),K(o,"change",m)],c=!0)},p(E,w){if(l=E,w[0]&33){a=l[26];let h;for(h=0;h<a.length;h+=1){const R=vl(l,a,h);i[h]?i[h].p(R,w):(i[h]=yl(R),i[h].c(),i[h].m(n,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=a.length}if(w[0]&128&&be(n,l[7][l[28]]),w[0]&8){d=l[3];let h;for(h=0;h<d.length;h+=1){const R=ml(l,d,h);k[h]?k[h].p(R,w):(k[h]=wl(R),k[h].c(),k[h].m(o,null))}for(;h<k.length;h+=1)k[h].d(1);k.length=d.length}w[0]&169&&be(o,l[26][+l[7][l[28]]])},d(E){E&&_(e),pe(i,E),pe(k,E),c=!1,Se(r)}}}function Tl(l){let e,t;return e=new He({props:{rule:l[29]}}),{c(){ke(e.$$.fragment)},l(n){ye(e.$$.fragment,n)},m(n,s){we(e,n,s),t=!0},p(n,s){const o={};s[0]&33&&(o.rule=n[29]),e.$set(o)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Il(l){let e,t,n,s;function o(...i){return l[22](l[28],l[26],...i)}let c=l[0].filter(o),r=[];for(let i=0;i<c.length;i+=1)r[i]=Tl(hl(l,c,i));const a=i=>le(r[i],1,1,()=>{r[i]=null});return{c(){e=p("div"),t=p("div");for(let i=0;i<r.length;i+=1)r[i].c();n=q(),this.h()},l(i){e=g(i,"DIV",{class:!0,style:!0});var b=y(e);t=g(b,"DIV",{class:!0});var d=y(t);for(let k=0;k<r.length;k+=1)r[k].l(d);d.forEach(_),n=A(b),b.forEach(_),this.h()},h(){V(t,"class","possible-content svelte-4k8o2m"),V(e,"class","possible svelte-4k8o2m"),T(e,"transform",l[8][l[28]])},m(i,b){H(i,e,b),u(e,t);for(let d=0;d<r.length;d+=1)r[d].m(t,null);u(e,n),s=!0},p(i,b){if(l=i,b[0]&545){c=l[0].filter(o);let d;for(d=0;d<c.length;d+=1){const k=hl(l,c,d);r[d]?(r[d].p(k,b),Y(r[d],1)):(r[d]=Tl(k),r[d].c(),Y(r[d],1),r[d].m(t,null))}for(Ce(),d=c.length;d<r.length;d+=1)a(d);Ve()}},i(i){if(!s){for(let b=0;b<c.length;b+=1)Y(r[b]);s=!0}},o(i){r=r.filter(Boolean);for(let b=0;b<r.length;b+=1)le(r[b]);s=!1},d(i){i&&_(e),pe(r,i)}}}function Fl(l){let e,t,n,s,o,c,r,a,i,b,d,k,m,E,w,h,R,Z,U,ie,x,te,j,W,P,he,$,ce,I,F,f,N,Q,re,G,O,B,J,ae,ne,Ue,Be,de,oe,se,Te,Me,Fe,me=l[0],M=[];for(let v=0;v<me.length;v+=1)M[v]=bl(gl(l,me,v));const Nl=v=>le(M[v],1,1,()=>{M[v]=null});let ge=l[3],X=[];for(let v=0;v<ge.length;v+=1)X[v]=kl(pl(l,ge,v));const Je=[Hl,Al],fe=[];function Ke(v,C){return v[5]!=null&&v[0]!=null&&v[0]!=[]?0:1}return oe=Ke(l),se=fe[oe]=Je[oe](l),{c(){e=p("main"),t=p("div"),n=p("div"),s=p("select"),o=p("option"),c=z("Dungeon"),r=p("option"),a=z("Minecraft"),i=p("option"),b=z("Checkers"),d=p("option"),k=z("Layers"),m=p("option"),E=z("Flowers"),w=p("option"),h=z("Stripes"),R=q(),Z=p("button"),U=z("export"),ie=q(),x=p("button"),te=z("new"),j=q(),W=p("h3"),P=z("Tiles"),he=q(),$=p("div");for(let v=0;v<M.length;v+=1)M[v].c();ce=q(),I=p("button"),F=z("+"),f=q(),N=p("h3"),Q=z("Connectors"),re=q(),G=p("div");for(let v=0;v<X.length;v+=1)X[v].c();O=q(),B=p("div"),J=p("input"),ae=q(),ne=p("button"),Ue=z("+"),Be=q(),de=p("div"),se.c(),this.h()},l(v){e=g(v,"MAIN",{class:!0});var C=y(e);t=g(C,"DIV",{class:!0});var L=y(t);n=g(L,"DIV",{style:!0});var D=y(n);s=g(D,"SELECT",{});var ee=y(s);o=g(ee,"OPTION",{});var Qe=y(o);c=S(Qe,"Dungeon"),Qe.forEach(_),r=g(ee,"OPTION",{});var Ge=y(r);a=S(Ge,"Minecraft"),Ge.forEach(_),i=g(ee,"OPTION",{});var We=y(i);b=S(We,"Checkers"),We.forEach(_),d=g(ee,"OPTION",{});var Xe=y(d);k=S(Xe,"Layers"),Xe.forEach(_),m=g(ee,"OPTION",{});var Ye=y(m);E=S(Ye,"Flowers"),Ye.forEach(_),w=g(ee,"OPTION",{});var Ze=y(w);h=S(Ze,"Stripes"),Ze.forEach(_),ee.forEach(_),R=A(D),Z=g(D,"BUTTON",{});var xe=y(Z);U=S(xe,"export"),xe.forEach(_),ie=A(D),x=g(D,"BUTTON",{});var $e=y(x);te=S($e,"new"),$e.forEach(_),D.forEach(_),j=A(L),W=g(L,"H3",{style:!0});var el=y(W);P=S(el,"Tiles"),el.forEach(_),he=A(L),$=g(L,"DIV",{class:!0});var Ie=y($);for(let ve=0;ve<M.length;ve+=1)M[ve].l(Ie);ce=A(Ie),I=g(Ie,"BUTTON",{class:!0});var ll=y(I);F=S(ll,"+"),ll.forEach(_),Ie.forEach(_),f=A(L),N=g(L,"H3",{});var tl=y(N);Q=S(tl,"Connectors"),tl.forEach(_),re=A(L),G=g(L,"DIV",{class:!0});var Ne=y(G);for(let ve=0;ve<X.length;ve+=1)X[ve].l(Ne);O=A(Ne),B=g(Ne,"DIV",{style:!0});var Oe=y(B);J=g(Oe,"INPUT",{style:!0}),ae=A(Oe),ne=g(Oe,"BUTTON",{style:!0});var nl=y(ne);Ue=S(nl,"+"),nl.forEach(_),Oe.forEach(_),Ne.forEach(_),L.forEach(_),Be=A(C),de=g(C,"DIV",{class:!0});var ol=y(de);se.l(ol),ol.forEach(_),C.forEach(_),this.h()},h(){o.__value="5",o.value=o.__value,r.__value="0",r.value=r.__value,i.__value="1",i.value=i.__value,d.__value="2",d.value=d.__value,m.__value="3",m.value=m.__value,w.__value="6",w.value=w.__value,l[2]===void 0&&Le(()=>l[15].call(s)),T(n,"display","flex"),T(n,"gap",".25em"),T(n,"flex-wrap","wrap"),T(W,"margin-block","0"),V(I,"class","add-tile svelte-4k8o2m"),V($,"class","selection svelte-4k8o2m"),T(J,"height","2em"),T(J,"width","8em"),T(J,"border","none"),T(J,"background-color","#191919"),T(J,"padding-top","0px"),T(J,"padding-bottom","0px"),T(J,"outline","none"),T(J,"font-size","1em"),T(J,"padding-left",".5em"),T(ne,"height","2em"),T(ne,"box-sizing","content-box"),T(ne,"border","none"),T(ne,"padding-top","0px"),T(ne,"padding-bottom","0px"),T(ne,"font-size","1em"),T(B,"display","flex"),T(B,"background-color","#191919"),T(B,"border","1px solid #2d2c2d"),T(B,"border-radius",".25rem"),T(B,"overflow","hidden"),V(G,"class","available-connectors svelte-4k8o2m"),V(t,"class","browser svelte-4k8o2m"),V(de,"class","editor svelte-4k8o2m"),V(e,"class","svelte-4k8o2m")},m(v,C){H(v,e,C),u(e,t),u(t,n),u(n,s),u(s,o),u(o,c),u(s,r),u(r,a),u(s,i),u(i,b),u(s,d),u(d,k),u(s,m),u(m,E),u(s,w),u(w,h),be(s,l[2]),u(n,R),u(n,Z),u(Z,U),u(n,ie),u(n,x),u(x,te),u(t,j),u(t,W),u(W,P),u(t,he),u(t,$);for(let L=0;L<M.length;L+=1)M[L].m($,null);u($,ce),u($,I),u(I,F),u(t,f),u(t,N),u(N,Q),u(t,re),u(t,G);for(let L=0;L<X.length;L+=1)X[L].m(G,null);u(G,O),u(G,B),u(B,J),Pe(J,l[6]),u(B,ae),u(B,ne),u(ne,Ue),u(e,Be),u(e,de),fe[oe].m(de,null),Te=!0,Me||(Fe=[K(s,"change",l[15]),K(Z,"click",l[11]),K(x,"click",l[10]),K(I,"click",l[12]),K(J,"input",l[19]),K(ne,"click",l[14]),K(e,"mouseover",l[25]),K(e,"focus",Kl)],Me=!0)},p(v,C){if(C[0]&4&&be(s,v[2]),C[0]&49){me=v[0];let D;for(D=0;D<me.length;D+=1){const ee=gl(v,me,D);M[D]?(M[D].p(ee,C),Y(M[D],1)):(M[D]=bl(ee),M[D].c(),Y(M[D],1),M[D].m($,ce))}for(Ce(),D=me.length;D<M.length;D+=1)Nl(D);Ve()}if(C[0]&8202){ge=v[3];let D;for(D=0;D<ge.length;D+=1){const ee=pl(v,ge,D);X[D]?X[D].p(ee,C):(X[D]=kl(ee),X[D].c(),X[D].m(G,O))}for(;D<X.length;D+=1)X[D].d(1);X.length=ge.length}C[0]&64&&J.value!==v[6]&&Pe(J,v[6]);let L=oe;oe=Ke(v),oe===L?fe[oe].p(v,C):(Ce(),le(fe[L],1,1,()=>{fe[L]=null}),Ve(),se=fe[oe],se?se.p(v,C):(se=fe[oe]=Je[oe](v),se.c()),Y(se,1),se.m(de,null))},i(v){if(!Te){for(let C=0;C<me.length;C+=1)Y(M[C]);Y(se),Te=!0}},o(v){M=M.filter(Boolean);for(let C=0;C<M.length;C+=1)le(M[C]);le(se),Te=!1},d(v){v&&_(e),pe(M,v),pe(X,v),fe[oe].d(),Me=!1,Se(Fe)}}}const Jl=()=>{},Kl=()=>{};function Ql(l,e,t){const n=["translate( 0,  var(--sm))","translate(var(--sm), 0px)","translate( 0,   var(--s))","translate( var(--s), 0px)"],s={0:2,1:3,2:0,3:1};let o=il,c=[],r=[];function a(){t(0,o=[])}function i(){alert(JSON.stringify(o))}function b(){let I=prompt("Tile name");if(I==null)return;let F=prompt("Tile color");F!=null&&(o.push({value:I,color:F,connectors:[[],[],[],[]]}),t(0,o),t(2,m))}function d(I){for(let F of o)F.connectors=F.connectors.map(f=>f.filter(N=>N!==I));t(0,o),t(2,m)}function k(){h!=null&&h!==""&&(t(3,c=[...c,h]),console.log("Added new connector",h))}let m="5",E,w,h,R={};function Z(){m=je(this),t(2,m)}const U=I=>{t(5,w=I),t(4,E=I)},ie=(I,F)=>{t(5,w=I),F.preventDefault(),F.stopPropagation()},x=I=>{d(I)};function te(){h=this.value,t(6,h)}function j(I){R[I]=je(this),t(7,R)}function W(I,F){F[I][+R[I]]=je(this),t(0,o),t(2,m),t(5,w),t(2,m),t(3,c),t(0,o),t(1,r),t(2,m)}const P=(I,F,f)=>f.connectors[s[I]].filter(N=>F.includes(N)).length>0;function he(I){l.$$.not_equal(o[w].value,I)&&(o[w].value=I,t(0,o),t(2,m))}function $(I){l.$$.not_equal(o[w].color,I)&&(o[w].color=I,t(0,o),t(2,m))}const ce=()=>{t(5,w=E)};return l.$$.update=()=>{l.$$.dirty[0]&4&&m!=null&&(t(0,o=[Dl,Pl,Vl,Cl,zl,il,Sl][+m]),t(4,E=null),t(5,w=null)),l.$$.dirty[0]&3&&o!=null&&(t(1,r=[...new Set(o.map(I=>I.connectors.flat()).flat())]),t(3,c=[...r]))},[o,r,m,c,E,w,h,R,n,s,a,i,b,d,k,Z,U,ie,x,te,j,W,P,he,$,ce]}class Xl extends Re{constructor(e){super(),qe(this,e,Ql,Fl,Ae,{},null,[-1,-1])}}export{Xl as default};
