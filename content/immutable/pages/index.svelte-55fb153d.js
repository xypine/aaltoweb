import{S as kn,i as Sn,s as In,e as _,t as m,c as f,a as d,h as y,d as u,b as a,g as Y,J as r,j as He,f as S,k as E,m as k,K as J,l as ln,Q as Pt,M as mn,W as An,O as Tn,P as sn,L as be,X as qe,n as rn,w as On,R as Ln}from"../chunks/index-f844dc3c.js";import{m as on,c as Mn,d as Nn,f as Dn,p as Un,a as Pn,s as Rn,b as Vn}from"../chunks/rules-6858966a.js";let g;const ie=new Array(32).fill(void 0);ie.push(void 0,null,!0,!1);function A(n){return ie[n]}let Ge=ie.length;function zn(n){n<36||(ie[n]=Ge,Ge=n)}function jn(n){const e=A(n);return zn(n),e}function L(n){Ge===ie.length&&ie.push(ie.length+1);const e=Ge;return Ge=ie[e],ie[e]=n,e}const yn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});yn.decode();let rt;function Ye(){return rt.byteLength===0&&(rt=new Uint8Array(g.memory.buffer)),rt}function we(n,e){return yn.decode(Ye().subarray(n,n+e))}let Le=0;const it=new TextEncoder("utf-8"),Bn=typeof it.encodeInto=="function"?function(n,e){return it.encodeInto(n,e)}:function(n,e){const t=it.encode(n);return e.set(t),{read:n.length,written:t.length}};function Xe(n,e,t){if(t===void 0){const c=it.encode(n),h=e(c.length);return Ye().subarray(h,h+c.length).set(c),Le=c.length,h}let l=n.length,s=e(l);const o=Ye();let i=0;for(;i<l;i++){const c=n.charCodeAt(i);if(c>127)break;o[s+i]=c}if(i!==l){i!==0&&(n=n.slice(i)),s=t(s,l,l=i+n.length*3);const c=Ye().subarray(s+i,s+l);i+=Bn(n,c).written}return Le=i,s}let ot;function se(){return ot.byteLength===0&&(ot=new Int32Array(g.memory.buffer)),ot}function Cn(n,e,t){try{const o=g.__wbindgen_add_to_stack_pointer(-16),i=Xe(t,g.__wbindgen_export_0,g.__wbindgen_export_1),c=Le;g.reset_grid(o,n,e,i,c);var l=se()[o/4+0],s=se()[o/4+1];return we(l,s)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_export_2(l,s)}}function Wn(n,e,t,l){try{const i=g.__wbindgen_add_to_stack_pointer(-16),c=Xe(n,g.__wbindgen_export_0,g.__wbindgen_export_1),h=Le;g.propagate(i,c,h,e,t,l);var s=se()[i/4+0],o=se()[i/4+1];return we(s,o)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_export_2(s,o)}}function ze(n){return n==null}const Me=new Uint32Array(2),Rt=new BigUint64Array(Me.buffer);function an(n,e,t,l,s){try{const c=g.__wbindgen_add_to_stack_pointer(-16),h=Xe(n,g.__wbindgen_export_0,g.__wbindgen_export_1),B=Le;Rt[0]=ze(l)?BigInt(0):l;const H=Me[0],T=Me[1];g.collapse(c,h,B,e,t,!ze(l),H,T,s);var o=se()[c/4+0],i=se()[c/4+1];return we(o,i)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_export_2(o,i)}}function Fn(n,e){try{const s=g.__wbindgen_add_to_stack_pointer(-16),o=Xe(n,g.__wbindgen_export_0,g.__wbindgen_export_1),i=Le;Rt[0]=ze(e)?BigInt(0):e;const c=Me[0],h=Me[1];g.choose_collapsable(s,o,i,!ze(e),c,h);var t=se()[s/4+0],l=se()[s/4+1];return we(t,l)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_export_2(t,l)}}function Jn(n,e,t){try{const o=g.__wbindgen_add_to_stack_pointer(-16),i=Xe(n,g.__wbindgen_export_0,g.__wbindgen_export_1),c=Le;Rt[0]=ze(e)?BigInt(0):e;const h=Me[0],B=Me[1];g.collapse_all(o,i,c,!ze(e),h,B,t);var l=se()[o/4+0],s=se()[o/4+1];return we(l,s)}finally{g.__wbindgen_add_to_stack_pointer(16),g.__wbindgen_export_2(l,s)}}function ge(n,e){try{return n.apply(this,e)}catch(t){g.__wbindgen_export_3(L(t))}}function qn(n,e){return Ye().subarray(n/1,n/1+e)}async function Gn(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(l){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",l);else throw l}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Yn(){const n={};return n.wbg={},n.wbg.__wbg_randomFillSync_91e2b39becca6147=function(){return ge(function(e,t,l){A(e).randomFillSync(qn(t,l))},arguments)},n.wbg.__wbindgen_object_drop_ref=function(e){jn(e)},n.wbg.__wbg_getRandomValues_b14734aa289bc356=function(){return ge(function(e,t){A(e).getRandomValues(A(t))},arguments)},n.wbg.__wbg_process_e56fd54cf6319b6c=function(e){const t=A(e).process;return L(t)},n.wbg.__wbindgen_is_object=function(e){const t=A(e);return typeof t=="object"&&t!==null},n.wbg.__wbg_versions_77e21455908dad33=function(e){const t=A(e).versions;return L(t)},n.wbg.__wbg_node_0dd25d832e4785d5=function(e){const t=A(e).node;return L(t)},n.wbg.__wbindgen_is_string=function(e){return typeof A(e)=="string"},n.wbg.__wbg_static_accessor_NODE_MODULE_26b231378c1be7dd=function(){const e=module;return L(e)},n.wbg.__wbg_require_0db1598d9ccecb30=function(){return ge(function(e,t,l){const s=A(e).require(we(t,l));return L(s)},arguments)},n.wbg.__wbg_crypto_b95d7173266618a9=function(e){const t=A(e).crypto;return L(t)},n.wbg.__wbg_msCrypto_5a86d77a66230f81=function(e){const t=A(e).msCrypto;return L(t)},n.wbg.__wbg_newnoargs_fc5356289219b93b=function(e,t){const l=new Function(we(e,t));return L(l)},n.wbg.__wbg_call_4573f605ca4b5f10=function(){return ge(function(e,t){const l=A(e).call(A(t));return L(l)},arguments)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=A(e);return L(t)},n.wbg.__wbg_self_ba1ddafe9ea7a3a2=function(){return ge(function(){const e=self.self;return L(e)},arguments)},n.wbg.__wbg_window_be3cc430364fd32c=function(){return ge(function(){const e=window.window;return L(e)},arguments)},n.wbg.__wbg_globalThis_56d9c9f814daeeee=function(){return ge(function(){const e=globalThis.globalThis;return L(e)},arguments)},n.wbg.__wbg_global_8c35aeee4ac77f2b=function(){return ge(function(){const e=global.global;return L(e)},arguments)},n.wbg.__wbindgen_is_undefined=function(e){return A(e)===void 0},n.wbg.__wbg_buffer_de1150f91b23aa89=function(e){const t=A(e).buffer;return L(t)},n.wbg.__wbg_new_97cf52648830a70d=function(e){const t=new Uint8Array(A(e));return L(t)},n.wbg.__wbg_set_a0172b213e2469e9=function(e,t,l){A(e).set(A(t),l>>>0)},n.wbg.__wbg_length_e09c0b925ab8de5d=function(e){return A(e).length},n.wbg.__wbg_newwithlength_e833b89f9db02732=function(e){const t=new Uint8Array(e>>>0);return L(t)},n.wbg.__wbg_subarray_9482ae5cd5cd99d3=function(e,t,l){const s=A(e).subarray(t>>>0,l>>>0);return L(s)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(we(e,t))},n.wbg.__wbindgen_memory=function(){const e=g.memory;return L(e)},n}function Hn(n,e){return g=n.exports,En.__wbindgen_wasm_module=e,ot=new Int32Array(g.memory.buffer),rt=new Uint8Array(g.memory.buffer),g}async function En(n){typeof n=="undefined"&&(n="/aaltoweb/content/immutable/assets/aalto_bg.wasm");const e=Yn();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:l}=await Gn(await n,e);return Hn(t,l)}function cn(n,e,t){const l=n.slice();return l[32]=e[t],l[34]=t,l}function un(n,e,t){const l=n.slice();return l[35]=e[t],l[37]=t,l}function _n(n,e,t){const l=n.slice();return l[38]=e[t],l}function fn(n){let e,t;return{c(){e=_("p"),t=m(n[10]),this.h()},l(l){e=f(l,"P",{class:!0});var s=d(e);t=y(s,n[10]),s.forEach(u),this.h()},h(){a(e,"class","svelte-1ihwriy")},m(l,s){Y(l,e,s),r(e,t)},p(l,s){s[0]&1024&&He(t,l[10])},d(l){l&&u(e)}}}function hn(n){let e,t;return{c(){e=_("p"),t=m(n[11]),this.h()},l(l){e=f(l,"P",{style:!0,class:!0});var s=d(e);t=y(s,n[11]),s.forEach(u),this.h()},h(){S(e,"max-width","500px"),S(e,"color","red"),a(e,"class","svelte-1ihwriy")},m(l,s){Y(l,e,s),r(e,t)},p(l,s){s[0]&2048&&He(t,l[11])},d(l){l&&u(e)}}}function dn(n){let e;function t(o,i){return o[7]?Kn:Xn}let l=t(n),s=l(n);return{c(){e=_("div"),s.c(),this.h()},l(o){e=f(o,"DIV",{style:!0,class:!0});var i=d(e);s.l(i),i.forEach(u),this.h()},h(){S(e,"height","100%"),S(e,"width","100%"),S(e,"display","grid"),S(e,"place-items","center"),a(e,"class","svelte-1ihwriy")},m(o,i){Y(o,e,i),s.m(e,null)},p(o,i){l!==(l=t(o))&&(s.d(1),s=l(o),s&&(s.c(),s.m(e,null)))},d(o){o&&u(e),s.d()}}}function Xn(n){let e,t;return{c(){e=_("p"),t=m("Loading wasm..."),this.h()},l(l){e=f(l,"P",{class:!0});var s=d(e);t=y(s,"Loading wasm..."),s.forEach(u),this.h()},h(){a(e,"class","svelte-1ihwriy")},m(l,s){Y(l,e,s),r(e,t)},d(l){l&&u(e)}}}function Kn(n){let e,t,l,s;return{c(){e=_("p"),t=m("Error while executing wasm. "),l=_("br"),s=m(`
                        Are the rules valid?`),this.h()},l(o){e=f(o,"P",{class:!0});var i=d(e);t=y(i,"Error while executing wasm. "),l=f(i,"BR",{class:!0}),s=y(i,`
                        Are the rules valid?`),i.forEach(u),this.h()},h(){a(l,"class","svelte-1ihwriy"),a(e,"class","svelte-1ihwriy")},m(o,i){Y(o,e,i),r(e,t),r(e,l),r(e,s)},d(o){o&&u(e)}}}function pn(n){let e,t=n[35].possible.length!=1&&bn(n);return{c(){e=_("div"),t&&t.c(),this.h()},l(l){e=f(l,"DIV",{class:!0});var s=d(e);t&&t.l(s),s.forEach(u),this.h()},h(){a(e,"class","possibilities svelte-1ihwriy")},m(l,s){Y(l,e,s),t&&t.m(e,null)},p(l,s){l[35].possible.length!=1?t?t.p(l,s):(t=bn(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&u(e),t&&t.d()}}}function bn(n){let e,t=n[35].possible,l=[];for(let s=0;s<t.length;s+=1)l[s]=gn(_n(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ln()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=ln()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);Y(s,e,o)},p(s,o){if(o[0]&64){t=s[35].possible;let i;for(i=0;i<t.length;i+=1){const c=_n(s,t,i);l[i]?l[i].p(c,o):(l[i]=gn(c),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){Pt(l,s),s&&u(e)}}}function gn(n){let e;return{c(){e=_("div"),this.h()},l(t){e=f(t,"DIV",{class:!0,style:!0}),d(e).forEach(u),this.h()},h(){a(e,"class","possible svelte-1ihwriy"),S(e,"--color",n[38].color),S(e,"--opacity",1/n[35].possible.length)},m(t,l){Y(t,e,l)},p(t,l){l[0]&64&&S(e,"--color",t[38].color),l[0]&64&&S(e,"--opacity",1/t[35].possible.length)},d(t){t&&u(e)}}}function wn(n){let e,t="",l,s,o,i,c,h=n[8]&&pn(n);function B(){return n[21](n[37],n[34])}function H(...T){return n[22](n[37],n[34],...T)}return{c(){e=_("div"),l=m(t),s=E(),o=E(),h&&h.c(),this.h()},l(T){e=f(T,"DIV",{class:!0,title:!0,style:!0});var O=d(e);l=y(O,t),s=k(O),o=k(O),h&&h.l(O),O.forEach(u),this.h()},h(){a(e,"class","tile svelte-1ihwriy"),a(e,"title",`${n[37]}, ${n[34]}`),S(e,"--bg",n[35].possible.length==1?n[35].possible[0].color:"transparent")},m(T,O){Y(T,e,O),r(e,l),r(e,s),r(e,o),h&&h.m(e,null),i||(c=[J(e,"click",B),J(e,"mouseover",H),J(e,"focus",null)],i=!0)},p(T,O){n=T,O[0]&64&&t!==(t="")&&He(l,t),n[8]?h?h.p(n,O):(h=pn(n),h.c(),h.m(e,null)):h&&(h.d(1),h=null),O[0]&64&&S(e,"--bg",n[35].possible.length==1?n[35].possible[0].color:"transparent")},d(T){T&&u(e),h&&h.d(),i=!1,mn(c)}}}function vn(n){let e,t,l=n[32],s=[];for(let o=0;o<l.length;o+=1)s[o]=wn(un(n,l,o));return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();t=E(),this.h()},l(o){e=f(o,"DIV",{class:!0});var i=d(e);for(let c=0;c<s.length;c+=1)s[c].l(i);t=k(i),i.forEach(u),this.h()},h(){a(e,"class","col svelte-1ihwriy")},m(o,i){Y(o,e,i);for(let c=0;c<s.length;c+=1)s[c].m(e,null);r(e,t)},p(o,i){if(i[0]&16704){l=o[32];let c;for(c=0;c<l.length;c+=1){const h=un(o,l,c);s[c]?s[c].p(h,i):(s[c]=wn(h),s[c].c(),s[c].m(e,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=l.length}},d(o){o&&u(e),Pt(s,o)}}}function Qn(n){let e,t,l,s,o,i,c,h,B,H,T,O,U,M,ve,I,q,N,me,P,Z,X,ye,W,Ee,je,K,oe,F,ae,Be,Ce,x,We,w,v,$,ce,C,Ke,at,ue,ke,ct,ut,ee,_t,te,Ne,ft,ht,_e,Se,dt,pt,re,bt,fe,Ie,gt,wt,ne,vt,le,De,mt,yt,Q,Ae,Et,kt,G,St,Qe,It,At,Ue,Tt,Ot,he,de,Fe=n[9]?"Stop":"Solve",Ze,Lt,pe,Mt,Nt,Vt,R=n[10]!=null&&fn(n),V=n[11]&&hn(n),z=(!n[6]||n[6].length==0)&&dn(n),Pe=n[6],j=[];for(let p=0;p<Pe.length;p+=1)j[p]=vn(cn(n,Pe,p));return{c(){e=E(),t=_("main"),l=_("h1"),s=m("AALTO"),o=E(),i=_("p"),c=m("made by "),h=_("a"),B=m("elias eskelinen"),H=E(),R&&R.c(),T=E(),O=_("div"),U=_("select"),M=_("option"),ve=m("Dungeon"),I=_("option"),q=m("Minecraft"),N=_("option"),me=m("Layers"),P=_("option"),Z=m("Stripes"),X=_("option"),ye=m("Checkers"),W=_("option"),Ee=m("Flowers"),je=E(),K=_("details"),oe=_("summary"),F=_("div"),ae=_("p"),Be=m("tweak the rules"),Ce=E(),x=_("a"),We=m("open editor"),w=E(),v=_("textarea"),$=E(),V&&V.c(),ce=E(),C=_("div"),z&&z.c(),Ke=E();for(let p=0;p<j.length;p+=1)j[p].c();at=E(),ue=_("div"),ke=_("label"),ct=m("Grid size:"),ut=E(),ee=_("input"),_t=E(),te=_("details"),Ne=_("summary"),ft=m("Performance"),ht=E(),_e=_("div"),Se=_("label"),dt=m("Show possible:"),pt=E(),re=_("input"),bt=E(),fe=_("div"),Ie=_("label"),gt=m("Max recursion:"),wt=E(),ne=_("input"),vt=E(),le=_("details"),De=_("summary"),mt=m("Solving"),yt=E(),Q=_("div"),Ae=_("label"),Et=m("Solve delay:"),kt=E(),G=_("input"),St=E(),Qe=m(n[4]),It=m(" ms"),At=E(),Ue=_("small"),Tt=m("set delay to 0 for maximum speed"),Ot=E(),he=_("div"),de=_("button"),Ze=m(Fe),Lt=E(),pe=_("button"),Mt=m("Reset"),this.h()},l(p){An('[data-svelte="svelte-bf8aw6"]',document.head).forEach(u),e=k(p),t=f(p,"MAIN",{class:!0});var b=d(t);l=f(b,"H1",{class:!0});var Je=d(l);s=y(Je,"AALTO"),Je.forEach(u),o=k(b),i=f(b,"P",{class:!0});var Dt=d(i);c=y(Dt,"made by "),h=f(Dt,"A",{href:!0,class:!0});var zt=d(h);B=y(zt,"elias eskelinen"),zt.forEach(u),Dt.forEach(u),H=k(b),R&&R.l(b),T=k(b),O=f(b,"DIV",{class:!0});var jt=d(O);U=f(jt,"SELECT",{class:!0});var Te=d(U);M=f(Te,"OPTION",{class:!0});var Bt=d(M);ve=y(Bt,"Dungeon"),Bt.forEach(u),I=f(Te,"OPTION",{class:!0});var Ct=d(I);q=y(Ct,"Minecraft"),Ct.forEach(u),N=f(Te,"OPTION",{class:!0});var Wt=d(N);me=y(Wt,"Layers"),Wt.forEach(u),P=f(Te,"OPTION",{class:!0});var Ft=d(P);Z=y(Ft,"Stripes"),Ft.forEach(u),X=f(Te,"OPTION",{class:!0});var Jt=d(X);ye=y(Jt,"Checkers"),Jt.forEach(u),W=f(Te,"OPTION",{class:!0});var qt=d(W);Ee=y(qt,"Flowers"),qt.forEach(u),Te.forEach(u),jt.forEach(u),je=k(b),K=f(b,"DETAILS",{style:!0,class:!0});var xe=d(K);oe=f(xe,"SUMMARY",{class:!0});var Gt=d(oe);F=f(Gt,"DIV",{style:!0,class:!0});var $e=d(F);ae=f($e,"P",{class:!0});var Yt=d(ae);Be=y(Yt,"tweak the rules"),Yt.forEach(u),Ce=k($e),x=f($e,"A",{href:!0,target:!0,class:!0});var Ht=d(x);We=y(Ht,"open editor"),Ht.forEach(u),$e.forEach(u),Gt.forEach(u),w=k(xe),v=f(xe,"TEXTAREA",{style:!0,class:!0}),d(v).forEach(u),xe.forEach(u),$=k(b),V&&V.l(b),ce=k(b),C=f(b,"DIV",{class:!0,style:!0});var et=d(C);z&&z.l(et),Ke=k(et);for(let Ut=0;Ut<j.length;Ut+=1)j[Ut].l(et);et.forEach(u),at=k(b),ue=f(b,"DIV",{class:!0});var tt=d(ue);ke=f(tt,"LABEL",{for:!0,class:!0});var Xt=d(ke);ct=y(Xt,"Grid size:"),Xt.forEach(u),ut=k(tt),ee=f(tt,"INPUT",{id:!0,type:!0,class:!0}),tt.forEach(u),_t=k(b),te=f(b,"DETAILS",{class:!0});var Re=d(te);Ne=f(Re,"SUMMARY",{class:!0});var Kt=d(Ne);ft=y(Kt,"Performance"),Kt.forEach(u),ht=k(Re),_e=f(Re,"DIV",{class:!0});var nt=d(_e);Se=f(nt,"LABEL",{for:!0,class:!0});var Qt=d(Se);dt=y(Qt,"Show possible:"),Qt.forEach(u),pt=k(nt),re=f(nt,"INPUT",{id:!0,type:!0,class:!0}),nt.forEach(u),bt=k(Re),fe=f(Re,"DIV",{class:!0});var lt=d(fe);Ie=f(lt,"LABEL",{for:!0,class:!0});var Zt=d(Ie);gt=y(Zt,"Max recursion:"),Zt.forEach(u),wt=k(lt),ne=f(lt,"INPUT",{id:!0,type:!0,class:!0}),lt.forEach(u),Re.forEach(u),vt=k(b),le=f(b,"DETAILS",{class:!0});var Ve=d(le);De=f(Ve,"SUMMARY",{class:!0});var xt=d(De);mt=y(xt,"Solving"),xt.forEach(u),yt=k(Ve),Q=f(Ve,"DIV",{class:!0});var Oe=d(Q);Ae=f(Oe,"LABEL",{for:!0,class:!0});var $t=d(Ae);Et=y($t,"Solve delay:"),$t.forEach(u),kt=k(Oe),G=f(Oe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),St=k(Oe),Qe=y(Oe,n[4]),It=y(Oe," ms"),Oe.forEach(u),At=k(Ve),Ue=f(Ve,"SMALL",{class:!0});var en=d(Ue);Tt=y(en,"set delay to 0 for maximum speed"),en.forEach(u),Ve.forEach(u),Ot=k(b),he=f(b,"DIV",{class:!0});var st=d(he);de=f(st,"BUTTON",{style:!0,class:!0});var tn=d(de);Ze=y(tn,Fe),tn.forEach(u),Lt=k(st),pe=f(st,"BUTTON",{style:!0,class:!0});var nn=d(pe);Mt=y(nn,"Reset"),nn.forEach(u),st.forEach(u),b.forEach(u),this.h()},h(){document.title="AALTO",a(l,"class","svelte-1ihwriy"),a(h,"href","https://eliaseskelinen.fi"),a(h,"class","svelte-1ihwriy"),a(i,"class","svelte-1ihwriy"),M.__value="5",M.value=M.__value,a(M,"class","svelte-1ihwriy"),I.__value="0",I.value=I.__value,a(I,"class","svelte-1ihwriy"),N.__value="2",N.value=N.__value,a(N,"class","svelte-1ihwriy"),P.__value="6",P.value=P.__value,a(P,"class","svelte-1ihwriy"),X.__value="1",X.value=X.__value,a(X,"class","svelte-1ihwriy"),W.__value="3",W.value=W.__value,a(W,"class","svelte-1ihwriy"),a(U,"class","svelte-1ihwriy"),n[2]===void 0&&Tn(()=>n[18].call(U)),a(O,"class","svelte-1ihwriy"),a(ae,"class","svelte-1ihwriy"),a(x,"href",`${Vn}/editor`),a(x,"target","_blank"),a(x,"class","svelte-1ihwriy"),S(F,"display","inline-flex"),S(F,"width","calc(100% - 22px)"),S(F,"justify-content","space-between"),a(F,"class","svelte-1ihwriy"),a(oe,"class","svelte-1ihwriy"),S(v,"min-width","var(--grid-max-size)"),S(v,"resize","block"),S(v,"min-height","var(--grid-max-size)"),a(v,"class","svelte-1ihwriy"),S(K,"min-width","var(--grid-max-size)"),a(K,"class","svelte-1ihwriy"),a(C,"class","grid svelte-1ihwriy"),S(C,"--size",n[3]),a(ke,"for","width"),a(ke,"class","svelte-1ihwriy"),a(ee,"id","width"),a(ee,"type","number"),a(ee,"class","svelte-1ihwriy"),a(ue,"class","svelte-1ihwriy"),a(Ne,"class","svelte-1ihwriy"),a(Se,"for","show-possible"),a(Se,"class","svelte-1ihwriy"),a(re,"id","show-possible"),a(re,"type","checkbox"),a(re,"class","svelte-1ihwriy"),a(_e,"class","svelte-1ihwriy"),a(Ie,"for","show-possible"),a(Ie,"class","svelte-1ihwriy"),a(ne,"id","show-possible"),a(ne,"type","number"),a(ne,"class","svelte-1ihwriy"),a(fe,"class","svelte-1ihwriy"),a(te,"class","svelte-1ihwriy"),a(De,"class","svelte-1ihwriy"),a(Ae,"for","speed"),a(Ae,"class","svelte-1ihwriy"),a(G,"id","speed"),a(G,"type","range"),a(G,"min","0"),a(G,"max","75"),a(G,"class","svelte-1ihwriy"),a(Q,"class","svelte-1ihwriy"),a(Ue,"class","svelte-1ihwriy"),a(le,"class","svelte-1ihwriy"),S(de,"padding","0.25em 1em"),a(de,"class","svelte-1ihwriy"),S(pe,"padding","0.25em 1em"),a(pe,"class","svelte-1ihwriy"),a(he,"class","svelte-1ihwriy"),a(t,"class","svelte-1ihwriy")},m(p,D){Y(p,e,D),Y(p,t,D),r(t,l),r(l,s),r(t,o),r(t,i),r(i,c),r(i,h),r(h,B),r(t,H),R&&R.m(t,null),r(t,T),r(t,O),r(O,U),r(U,M),r(M,ve),r(U,I),r(I,q),r(U,N),r(N,me),r(U,P),r(P,Z),r(U,X),r(X,ye),r(U,W),r(W,Ee),sn(U,n[2]),r(t,je),r(t,K),r(K,oe),r(oe,F),r(F,ae),r(ae,Be),r(F,Ce),r(F,x),r(x,We),r(K,w),r(K,v),be(v,n[1]),r(t,$),V&&V.m(t,null),r(t,ce),r(t,C),z&&z.m(C,null),r(C,Ke);for(let b=0;b<j.length;b+=1)j[b].m(C,null);r(t,at),r(t,ue),r(ue,ke),r(ke,ct),r(ue,ut),r(ue,ee),be(ee,n[3]),r(t,_t),r(t,te),r(te,Ne),r(Ne,ft),r(te,ht),r(te,_e),r(_e,Se),r(Se,dt),r(_e,pt),r(_e,re),re.checked=n[8],r(te,bt),r(te,fe),r(fe,Ie),r(Ie,gt),r(fe,wt),r(fe,ne),be(ne,n[5]),r(t,vt),r(t,le),r(le,De),r(De,mt),r(le,yt),r(le,Q),r(Q,Ae),r(Ae,Et),r(Q,kt),r(Q,G),be(G,n[4]),r(Q,St),r(Q,Qe),r(Q,It),r(le,At),r(le,Ue),r(Ue,Tt),r(t,Ot),r(t,he),r(he,de),r(de,Ze),r(he,Lt),r(he,pe),r(pe,Mt),Nt||(Vt=[J(U,"change",n[18]),J(v,"input",n[19]),J(v,"input",n[20]),J(ee,"input",n[23]),J(re,"change",n[24]),J(ne,"input",n[25]),J(G,"change",n[26]),J(G,"input",n[26]),J(de,"click",n[13]),J(pe,"click",n[12])],Nt=!0)},p(p,D){if(p[10]!=null?R?R.p(p,D):(R=fn(p),R.c(),R.m(t,T)):R&&(R.d(1),R=null),D[0]&4&&sn(U,p[2]),D[0]&2&&be(v,p[1]),p[11]?V?V.p(p,D):(V=hn(p),V.c(),V.m(t,ce)):V&&(V.d(1),V=null),!p[6]||p[6].length==0?z?z.p(p,D):(z=dn(p),z.c(),z.m(C,Ke)):z&&(z.d(1),z=null),D[0]&16704){Pe=p[6];let b;for(b=0;b<Pe.length;b+=1){const Je=cn(p,Pe,b);j[b]?j[b].p(Je,D):(j[b]=vn(Je),j[b].c(),j[b].m(C,null))}for(;b<j.length;b+=1)j[b].d(1);j.length=Pe.length}D[0]&8&&S(C,"--size",p[3]),D[0]&8&&qe(ee.value)!==p[3]&&be(ee,p[3]),D[0]&256&&(re.checked=p[8]),D[0]&32&&qe(ne.value)!==p[5]&&be(ne,p[5]),D[0]&16&&be(G,p[4]),D[0]&16&&He(Qe,p[4]),D[0]&512&&Fe!==(Fe=p[9]?"Stop":"Solve")&&He(Ze,Fe)},i:rn,o:rn,d(p){p&&u(e),p&&u(t),R&&R.d(),V&&V.d(),z&&z.d(),Pt(j,p),Nt=!1,mn(Vt)}}}function Zn(n,e,t){let l=on,s,o,i=500,c=[];function h(){return JSON.stringify({tiles:c})}function B(w){let v=JSON.parse(w);t(6,c=v.tiles)}let H=!1;function T(){if(!!M){t(9,N=!1);try{let w=Cn(q,q,JSON.stringify(l)),v=JSON.parse(w);t(6,c=v),t(7,H=!1),I==="3"&&O(q-1,q-1,0)}catch(w){console.warn(w),t(6,c=[]),t(7,H=!0)}console.info("Max recursion",i)}}function O(w,v,$){let ce=c[v][w];ce.possible=[ce.possible[$]],t(6,c[v][w]=ce,c);let C=Wn(h(),w,v,i);B(C)}function U(){if(Z==0){N&&P&&clearInterval(P),console.log("Starting solve...");let w=Jn(h(),void 0,i);B(w),console.log("Solve done!")}else N?(t(9,N=!1),console.log("Solve stopped!")):(console.log("Starting solve..."),t(9,N=!0))}let M=!1;On(()=>{En().then(()=>{t(16,M=!0)})});let ve=!0,I="5",q=16,N=!1,me=!1,P,Z=0;function X(){if(N&&!me){me=!0;let w=JSON.parse(Fn(h()));if(w){console.log("Collapsing",w);let v=an(h(),w[0],w[1],void 0,i);B(v)}else t(9,N=!1),console.log("Solve done!");me=!1}}function ye(w,v){if(!M)return;let $=an(h(),w,v,void 0,i);B($)}let W,Ee;function je(){I=Ln(this),t(2,I)}function K(){s=this.value,t(1,s),t(0,l),t(15,o),t(2,I),t(16,M)}const oe=()=>{try{let w=JSON.parse(s);t(0,l=w),t(11,Ee=null)}catch(w){t(11,Ee="Invalid rules: "+w)}},F=(w,v)=>{ye(w,v)},ae=(w,v,$)=>{($.buttons==1||$.buttons==3)&&ye(w,v)};function Be(){q=qe(this.value),t(3,q)}function Ce(){ve=this.checked,t(8,ve)}function x(){i=qe(this.value),t(5,i)}function We(){Z=qe(this.value),t(4,Z)}return n.$$.update=()=>{if(n.$$.dirty[0]&65540&&I!=null&&M&&(t(0,l=[on,Mn,Nn,Dn,Un,Pn,Rn][+I]),+I==5?t(10,W="Textures by kenney.nl"):t(10,W=null)),n.$$.dirty[0]&32771&&l!=null){let w=JSON.stringify(l,null,2);o!==w&&(t(1,s=w),t(15,o=s))}n.$$.dirty[0]&65537&&l&&M&&T(),n.$$.dirty[0]&65544&&q&&M&&T(),n.$$.dirty[0]&131088&&Z!=null&&(P&&clearInterval(P),t(17,P=setInterval(X,Z)))},[l,s,I,q,Z,i,c,H,ve,N,W,Ee,T,U,ye,o,M,P,je,K,oe,F,ae,Be,Ce,x,We]}class el extends kn{constructor(e){super(),Sn(this,e,Zn,Qn,In,{},null,[-1,-1])}}export{el as default};
