var Je=Object.defineProperty,Ke=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var ze=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ce=(l,t,e)=>t in l?Je(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,Me=(l,t)=>{for(var e in t||(t={}))Ze.call(t,e)&&Ce(l,e,t[e]);if(ze)for(var e of ze(t))$e.call(t,e)&&Ce(l,e,t[e]);return l},Ae=(l,t)=>Ke(l,Qe(t));import{S as xe,i as el,s as ll,e as m,k as D,c as y,a as q,m as R,d,b as f,g as ee,J as r,t as C,h as M,f as F,K as Y,j as be,l as Le,L as ye,M as He,N as tl,O as sl,P as Oe,Q as fe,R as me,n as Pe,T as ol}from"../chunks/index-be5dee29.js";let rl={value:"w",color:"white",connectors:[["1"],["2"],["3"],["4"]]},nl={value:"b",color:"black",connectors:[["3"],["4"],["1"],["2"]]},al=[rl,nl],il={value:"ed",color:"darkblue",connectors:[["dblue"],["dblue"],["dblue"],["dblue"]]},cl={value:"d",color:"darkblue",connectors:[["blue","dblue"],["blue","dblue"],["blue","dblue"],["blue","dblue"]]},ul={value:"w",color:"blue",connectors:[["blue","yellow"],["blue","yellow"],["blue","yellow"],["blue","yellow"]]},fl={value:"sa",color:"cornsilk",connectors:[["yellow","yellowb"],["yellow","yellowb"],["yellow","yellowb"],["yellow","yellowb"]]},gl={value:"s",color:"bisque",connectors:[["yellowb","green"],["yellowb","green"],["yellowb","green"],["yellowb","green"]]},hl={value:"g",color:"green",connectors:[["green","darkgreen"],["green","darkgreen"],["green","darkgreen"],["green","darkgreen"]]},vl={value:"t",color:"darkgreen",connectors:[["darkgreen","rock1","rock2","rock3","rock4"],["darkgreen","rock1","rock2","rock3","rock4"],["darkgreen","rock1","rock2","rock3","rock4"],["darkgreen","rock1","rock2","rock3","rock4"]]},Ue=[il,cl,ul,fl,gl,hl,vl];function je(l,t,e){const o=l.slice();return o[21]=t[e],o[23]=e,o}function Be(l,t,e){const o=l.slice();return o[24]=t[e],o[26]=e,o}function Ge(l,t,e){const o=l.slice();return o[27]=t[e],o}function Fe(l){let t,e=l[24].possible,o=[];for(let s=0;s<e.length;s+=1)o[s]=We(Ge(l,e,s));return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=Le()},l(s){for(let i=0;i<o.length;i+=1)o[i].l(s);t=Le()},m(s,i){for(let n=0;n<o.length;n+=1)o[n].m(s,i);ee(s,t,i)},p(s,i){if(i[0]&8){e=s[24].possible;let n;for(n=0;n<e.length;n+=1){const c=Ge(s,e,n);o[n]?o[n].p(c,i):(o[n]=We(c),o[n].c(),o[n].m(t.parentNode,t))}for(;n<o.length;n+=1)o[n].d(1);o.length=e.length}},d(s){ye(o,s),s&&d(t)}}}function We(l){let t;return{c(){t=m("div"),this.h()},l(e){t=y(e,"DIV",{class:!0,style:!0}),q(t).forEach(d),this.h()},h(){f(t,"class","possible svelte-ogqyvg"),F(t,"--color",l[27].color),F(t,"--opacity",1/l[24].possible.length)},m(e,o){ee(e,t,o)},p(e,o){o[0]&8&&F(t,"--color",e[27].color),o[0]&8&&F(t,"--opacity",1/e[24].possible.length)},d(e){e&&d(t)}}}function Xe(l){let t,e="",o,s,i,n,c,S,b=l[24].possible.length!=1&&Fe(l);function H(){return l[12](l[26],l[23])}function O(...p){return l[13](l[26],l[23],...p)}return{c(){t=m("div"),o=C(e),s=D(),i=D(),n=m("div"),b&&b.c(),this.h()},l(p){t=y(p,"DIV",{class:!0,title:!0,style:!0});var h=q(t);o=M(h,e),s=R(h),i=R(h),n=y(h,"DIV",{class:!0});var N=q(n);b&&b.l(N),N.forEach(d),h.forEach(d),this.h()},h(){f(n,"class","possibilities svelte-ogqyvg"),f(t,"class","tile svelte-ogqyvg"),f(t,"title",`${l[26]}, ${l[23]}`),F(t,"--bg",l[6]&&l[6]==l[26]&&l[7]&&l[7]==l[23]?"pink":l[24].possible.length==1?l[24].possible[0].color:"transparent")},m(p,h){ee(p,t,h),r(t,o),r(t,s),r(t,i),r(t,n),b&&b.m(n,null),c||(S=[Y(t,"click",H),Y(t,"mouseover",O),Y(t,"focus",null)],c=!0)},p(p,h){l=p,h[0]&8&&e!==(e="")&&be(o,e),l[24].possible.length!=1?b?b.p(l,h):(b=Fe(l),b.c(),b.m(n,null)):b&&(b.d(1),b=null),h[0]&8&&F(t,"--bg",l[6]&&l[6]==l[26]&&l[7]&&l[7]==l[23]?"pink":l[24].possible.length==1?l[24].possible[0].color:"transparent")},d(p){p&&d(t),b&&b.d(),c=!1,He(S)}}}function Ye(l){let t,e,o=l[21],s=[];for(let i=0;i<o.length;i+=1)s[i]=Xe(Be(l,o,i));return{c(){t=m("div");for(let i=0;i<s.length;i+=1)s[i].c();e=D(),this.h()},l(i){t=y(i,"DIV",{class:!0});var n=q(t);for(let c=0;c<s.length;c+=1)s[c].l(n);e=R(n),n.forEach(d),this.h()},h(){f(t,"class","col svelte-ogqyvg")},m(i,n){ee(i,t,n);for(let c=0;c<s.length;c+=1)s[c].m(t,null);r(t,e)},p(i,n){if(n[0]&456){o=i[21];let c;for(c=0;c<o.length;c+=1){const S=Be(i,o,c);s[c]?s[c].p(S,n):(s[c]=Xe(S),s[c].c(),s[c].m(t,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}},d(i){i&&d(t),ye(s,i)}}}function dl(l){let t,e,o,s,i,n,c,S,b,H,O,p,h,N,V,P,U,L,le,j,W,te,se,a,g,_,w,I,z,k,X,E,oe,J,K,re,Z,B,G,ne=l[4]?"Stop":"Solve",ie,ge,Q,he,ve,ke,x=l[3],T=[];for(let v=0;v<x.length;v+=1)T[v]=Ye(je(l,x,v));return{c(){t=D(),e=m("main"),o=m("h1"),s=C("WFCTERRAIN"),i=D(),n=m("p"),c=C("made by "),S=m("a"),b=C("elias eskelinen"),H=D(),O=m("div"),p=m("select"),h=m("option"),N=C("Minecraft"),V=m("option"),P=C("Checkers"),U=D(),L=m("div");for(let v=0;v<T.length;v+=1)T[v].c();le=D(),j=m("div"),W=m("label"),te=C("Grid size:"),se=D(),a=m("input"),g=D(),_=m("div"),w=m("label"),I=C("Solve delay:"),z=D(),k=m("input"),X=D(),E=C(l[2]),oe=C(" ms"),J=D(),K=m("small"),re=C("set delay to 0 for maximum speed"),Z=D(),B=m("div"),G=m("button"),ie=C(ne),ge=D(),Q=m("button"),he=C("Reset"),this.h()},l(v){tl('[data-svelte="svelte-jed41s"]',document.head).forEach(d),t=R(v),e=y(v,"MAIN",{class:!0});var u=q(e);o=y(u,"H1",{class:!0});var ae=q(o);s=M(ae,"WFCTERRAIN"),ae.forEach(d),i=R(u),n=y(u,"P",{class:!0});var de=q(n);c=M(de,"made by "),S=y(de,"A",{href:!0,class:!0});var qe=q(S);b=M(qe,"elias eskelinen"),qe.forEach(d),de.forEach(d),H=R(u),O=y(u,"DIV",{class:!0});var we=q(O);p=y(we,"SELECT",{class:!0});var pe=q(p);h=y(pe,"OPTION",{class:!0});var Ee=q(h);N=M(Ee,"Minecraft"),Ee.forEach(d),V=y(pe,"OPTION",{class:!0});var Ie=q(V);P=M(Ie,"Checkers"),Ie.forEach(d),pe.forEach(d),we.forEach(d),U=R(u),L=y(u,"DIV",{class:!0,style:!0});var Se=q(L);for(let _e=0;_e<T.length;_e+=1)T[_e].l(Se);Se.forEach(d),le=R(u),j=y(u,"DIV",{class:!0});var ce=q(j);W=y(ce,"LABEL",{for:!0,class:!0});var Te=q(W);te=M(Te,"Grid size:"),Te.forEach(d),se=R(ce),a=y(ce,"INPUT",{id:!0,type:!0,class:!0}),ce.forEach(d),g=R(u),_=y(u,"DIV",{class:!0});var $=q(_);w=y($,"LABEL",{for:!0,class:!0});var Ne=q(w);I=M(Ne,"Solve delay:"),Ne.forEach(d),z=R($),k=y($,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),X=R($),E=M($,l[2]),oe=M($," ms"),$.forEach(d),J=R(u),K=y(u,"SMALL",{class:!0});var De=q(K);re=M(De,"set delay to 0 for maximum speed"),De.forEach(d),Z=R(u),B=y(u,"DIV",{class:!0});var ue=q(B);G=y(ue,"BUTTON",{style:!0,class:!0});var Re=q(G);ie=M(Re,ne),Re.forEach(d),ge=R(ue),Q=y(ue,"BUTTON",{style:!0,class:!0});var Ve=q(Q);he=M(Ve,"Reset"),Ve.forEach(d),ue.forEach(d),u.forEach(d),this.h()},h(){document.title="WFCTERRAIN",f(o,"class","svelte-ogqyvg"),f(S,"href","https://eliaseskelinen.fi"),f(S,"class","svelte-ogqyvg"),f(n,"class","svelte-ogqyvg"),h.__value="0",h.value=h.__value,f(h,"class","svelte-ogqyvg"),V.__value="1",V.value=V.__value,f(V,"class","svelte-ogqyvg"),f(p,"class","svelte-ogqyvg"),l[0]===void 0&&sl(()=>l[11].call(p)),f(O,"class","svelte-ogqyvg"),f(L,"class","grid svelte-ogqyvg"),F(L,"--size",l[1]),f(W,"for","width"),f(W,"class","svelte-ogqyvg"),f(a,"id","width"),f(a,"type","number"),f(a,"class","svelte-ogqyvg"),f(j,"class","svelte-ogqyvg"),f(w,"for","speed"),f(w,"class","svelte-ogqyvg"),f(k,"id","speed"),f(k,"type","range"),f(k,"min","0"),f(k,"max","75"),f(k,"class","svelte-ogqyvg"),f(_,"class","svelte-ogqyvg"),f(K,"class","svelte-ogqyvg"),F(G,"padding","0.25em 1em"),f(G,"class","svelte-ogqyvg"),F(Q,"padding","0.25em 1em"),f(Q,"class","svelte-ogqyvg"),f(B,"class","svelte-ogqyvg"),f(e,"class","svelte-ogqyvg")},m(v,A){ee(v,t,A),ee(v,e,A),r(e,o),r(o,s),r(e,i),r(e,n),r(n,c),r(n,S),r(S,b),r(e,H),r(e,O),r(O,p),r(p,h),r(h,N),r(p,V),r(V,P),Oe(p,l[0]),r(e,U),r(e,L);for(let u=0;u<T.length;u+=1)T[u].m(L,null);r(e,le),r(e,j),r(j,W),r(W,te),r(j,se),r(j,a),fe(a,l[1]),r(e,g),r(e,_),r(_,w),r(w,I),r(_,z),r(_,k),fe(k,l[2]),r(_,X),r(_,E),r(_,oe),r(e,J),r(e,K),r(K,re),r(e,Z),r(e,B),r(B,G),r(G,ie),r(B,ge),r(B,Q),r(Q,he),ve||(ke=[Y(p,"change",l[11]),Y(a,"input",l[14]),Y(k,"change",l[15]),Y(k,"input",l[15]),Y(G,"click",l[9]),Y(Q,"click",l[5])],ve=!0)},p(v,A){if(A[0]&1&&Oe(p,v[0]),A[0]&456){x=v[3];let u;for(u=0;u<x.length;u+=1){const ae=je(v,x,u);T[u]?T[u].p(ae,A):(T[u]=Ye(ae),T[u].c(),T[u].m(L,null))}for(;u<T.length;u+=1)T[u].d(1);T.length=x.length}A[0]&2&&F(L,"--size",v[1]),A[0]&2&&me(a.value)!==v[1]&&fe(a,v[1]),A[0]&4&&fe(k,v[2]),A[0]&4&&be(E,v[2]),A[0]&16&&ne!==(ne=v[4]?"Stop":"Solve")&&be(ie,ne)},i:Pe,o:Pe,d(v){v&&d(t),v&&d(e),ye(T,v),ve=!1,He(ke)}}}function pl(l,t,e){let o=Ue,s=[];function i(){e(4,N=!1),V=!1,e(3,s=[]);let a=0;for(;a<h;){let g=[],_=0;for(;_<h;){let w={possible:[...o]};g.push(w),_++}s.push(g),e(3,s),a++}}let n,c;function S(a,g,_=0){if(_>h**h)return;let w=s[g][a],I=[];g>0&&I.push([[a,g-1],0,2]),a>0&&I.push([[a-1,g],1,3]),g<s.length-1&&I.push([[a,g+1],2,0]),a<s[g].length-1&&I.push([[a+1,g],3,1]);for(let[z,k,X]of I){let E=s[z[1]][z[0]];if(E.possible.length>1){let oe=[...E.possible],J=[];for(let K of w.possible){let re=K.connectors[k];for(let Z of E.possible){let B=Z.connectors[X];re.find(G=>B.includes(G))!=null&&(J.includes(Z)||J.push(Z))}}oe+""!=J+""&&(E.possible=J,e(3,s[z[1]][z[0]]=E,s),S(z[0],z[1],_+1))}}}function b(a,g){let _=s[g][a],w=_.possible;w.length>1&&(e(3,s[g][a]=Ae(Me({},_),{possible:[w[Math.round(Math.random()*w.length)%w.length]]}),s),S(a,g))}function H(a=!1){let g=[],_=9999,w=-1;if(a){let I=0;for(let z of s){let k=0;for(let X of z){let E=X.possible.length;E>w&&E>1?(w=E,g=[[k,I]]):E==w&&g.push([k,I]),k+=1}I+=1}}else{let I=0;for(let z of s){let k=0;for(let X of z){let E=X.possible.length;E<_&&E>1?(_=E,g=[[k,I]]):E==_&&g.push([k,I]),k+=1}I+=1}}if(g.length>0)return g[Math.round(Math.random()*g.length)%g.length]}function O(){if(U==0){for(N&&P&&clearInterval(P),console.log("Starting solve...");;){let a=H();if(a)console.log("Collapsing",a),b(a[0],a[1]);else{console.log("Solve done!");break}}console.log("Solve done!")}else N?(e(4,N=!1),console.log("Solve stopped!")):(console.log("Starting solve..."),e(4,N=!0))}let p="0",h=25,N=!1,V=!1,P,U=0;function L(){if(N&&!V){V=!0;let a=H();a?(console.log("Collapsing",a),b(a[0],a[1])):(e(4,N=!1),console.log("Solve done!")),V=!1}}function le(){p=ol(this),e(0,p)}const j=(a,g)=>{b(a,g)},W=(a,g,_)=>{(_.buttons==1||_.buttons==3)&&b(a,g)};function te(){h=me(this.value),e(1,h)}function se(){U=me(this.value),e(2,U)}return l.$$.update=()=>{l.$$.dirty[0]&1&&p!=null&&(o=[Ue,al][+p],i()),l.$$.dirty[0]&2&&h&&i(),l.$$.dirty[0]&1028&&U!=null&&(P&&clearInterval(P),e(10,P=setInterval(L,U)))},[p,h,U,s,N,i,n,c,b,O,P,le,j,W,te,se]}class ml extends xe{constructor(t){super(),el(this,t,pl,dl,ll,{},null,[-1,-1])}}export{ml as default};
