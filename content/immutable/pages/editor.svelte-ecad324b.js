import{S as Se,i as Me,s as je,e as p,c as g,a as k,d,b as O,g as R,n as ue,w as It,t as B,h as S,J as u,K as H,k as j,l as Oe,m as L,j as Le,L as De,M as Re,N as _e,x as be,y as ke,z as ye,r as G,p as $,C as we,O as Et,f as b,P as Pe,q as Ve,Q as ge,o as ze,R as nt,T as ot,U as st,V as rt}from"../chunks/index-f844dc3c.js";import{m as Nt,c as Ot,d as Dt,f as Pt,p as Vt,a as at,s as zt}from"../chunks/rules-db6c3db7.js";function Ct(l){let e,t,n,s,o,r,a=l[1]&&it(l);return{c(){e=p("p"),t=B(l[0]),n=j(),a&&a.c(),s=Oe(),this.h()},l(i){e=g(i,"P",{class:!0});var c=k(e);t=S(c,l[0]),c.forEach(d),n=L(i),a&&a.l(i),s=Oe(),this.h()},h(){O(e,"class","svelte-7a28bz")},m(i,c){R(i,e,c),u(e,t),R(i,n,c),a&&a.m(i,c),R(i,s,c),o||(r=H(e,"click",l[7]),o=!0)},p(i,c){c&1&&Le(t,i[0]),i[1]?a?a.p(i,c):(a=it(i),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(i){i&&d(e),i&&d(n),a&&a.d(i),i&&d(s),o=!1,r()}}}function Ut(l){let e,t,n,s,o,r=l[1]&&ct(l);return{c(){e=p("input"),t=j(),r&&r.c(),n=Oe(),this.h()},l(a){e=g(a,"INPUT",{class:!0}),t=L(a),r&&r.l(a),n=Oe(),this.h()},h(){O(e,"class","svelte-7a28bz")},m(a,i){R(a,e,i),De(e,l[0]),R(a,t,i),r&&r.m(a,i),R(a,n,i),s||(o=[H(e,"click",St),H(e,"input",l[5])],s=!0)},p(a,i){i&1&&e.value!==a[0]&&De(e,a[0]),a[1]?r?r.p(a,i):(r=ct(a),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(a){a&&d(e),a&&d(t),r&&r.d(a),a&&d(n),s=!1,Re(o)}}}function it(l){let e,t,n,s;return{c(){e=p("button"),t=B("edit")},l(o){e=g(o,"BUTTON",{});var r=k(e);t=S(r,"edit"),r.forEach(d)},m(o,r){R(o,e,r),u(e,t),n||(s=H(e,"click",l[8]),n=!0)},p:ue,d(o){o&&d(e),n=!1,s()}}}function ct(l){let e,t,n,s;return{c(){e=p("button"),t=B("done")},l(o){e=g(o,"BUTTON",{});var r=k(e);t=S(r,"done"),r.forEach(d)},m(o,r){R(o,e,r),u(e,t),n||(s=H(e,"click",l[6]),n=!0)},p:ue,d(o){o&&d(e),n=!1,s()}}}function Bt(l){let e;function t(o,r){return o[3]?Ut:Ct}let n=t(l),s=n(l);return{c(){e=p("main"),s.c(),this.h()},l(o){e=g(o,"MAIN",{style:!0,class:!0});var r=k(e);s.l(r),r.forEach(d),this.h()},h(){O(e,"style",l[2]),O(e,"class","svelte-7a28bz")},m(o,r){R(o,e,r),s.m(e,null)},p(o,[r]){n===(n=t(o))&&s?s.p(o,r):(s.d(1),s=n(o),s&&(s.c(),s.m(e,null))),r&4&&O(e,"style",o[2])},i:ue,o:ue,d(o){o&&d(e),s.d()}}}const St=l=>{l.preventDefault(),l.stopPropagation()};function Mt(l,e,t){let{value:n}=e,{buttons:s=!1}=e,{style:o=""}=e,r=!1;function a(v){t(3,r=v)}function i(v,X){a(X),v.preventDefault(),v.stopPropagation()}It(()=>{window.addEventListener("click",()=>{t(3,r=!1)})});function c(){n=this.value,t(0,n)}const _=v=>{i(v,!1)},h=v=>{i(v,!0)},D=v=>{i(v,!0)};return l.$$set=v=>{"value"in v&&t(0,n=v.value),"buttons"in v&&t(1,s=v.buttons),"style"in v&&t(2,o=v.style)},[n,s,o,r,i,c,_,h,D]}class ut extends Se{constructor(e){super(),Me(this,e,Mt,Bt,je,{value:0,buttons:1,style:2})}}function jt(l){let e,t,n;return{c(){e=p("main"),this.h()},l(s){e=g(s,"MAIN",{style:!0,title:!0,class:!0});var o=k(e);o.forEach(d),this.h()},h(){O(e,"style",t="--bg:"+l[0].color+";"+l[1]),O(e,"title",n=l[0].value),O(e,"class","svelte-14rb7sg"),_e(e,"selectable",l[2]),_e(e,"selected",l[3]),_e(e,"partially-selected",l[4])},m(s,o){R(s,e,o)},p(s,[o]){o&3&&t!==(t="--bg:"+s[0].color+";"+s[1])&&O(e,"style",t),o&1&&n!==(n=s[0].value)&&O(e,"title",n),o&4&&_e(e,"selectable",s[2]),o&8&&_e(e,"selected",s[3]),o&16&&_e(e,"partially-selected",s[4])},i:ue,o:ue,d(s){s&&d(e)}}}function Lt(l,e,t){let{rule:n}=e,{style:s=""}=e,{selectable:o=!1}=e,{selected:r=!1}=e,{partially_selected:a=!1}=e;return l.$$set=i=>{"rule"in i&&t(0,n=i.rule),"style"in i&&t(1,s=i.style),"selectable"in i&&t(2,o=i.selectable),"selected"in i&&t(3,r=i.selected),"partially_selected"in i&&t(4,a=i.partially_selected)},[n,s,o,r,a]}class qe extends Se{constructor(e){super(),Me(this,e,Lt,jt,je,{rule:0,style:1,selectable:2,selected:3,partially_selected:4})}}function ft(l,e,t){const n=l.slice();return n[24]=e[t],n[26]=t,n}function _t(l,e,t){const n=l.slice();return n[27]=e[t],n}function dt(l,e,t){const n=l.slice();return n[24]=e[t],n[30]=e,n[26]=t,n}function ht(l,e,t){const n=l.slice();return n[31]=e[t],n}function mt(l,e,t){const n=l.slice();return n[24]=e[t],n}function vt(l,e,t){const n=l.slice();return n[36]=e[t],n[26]=t,n}function pt(l){let e,t,n,s,o;t=new qe({props:{rule:l[36],selectable:!0,selected:l[5]==l[26],partially_selected:l[4]==l[26]&&l[5]!=l[26]}});function r(){return l[15](l[26])}function a(...i){return l[16](l[26],...i)}return{c(){e=p("div"),be(t.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var c=k(e);ke(t.$$.fragment,c),c.forEach(d),this.h()},h(){O(e,"class","rule-wrapper")},m(i,c){R(i,e,c),ye(t,e,null),n=!0,s||(o=[H(e,"click",r),H(e,"mouseover",a),H(e,"focus",Ht)],s=!0)},p(i,c){l=i;const _={};c[0]&1&&(_.rule=l[36]),c[0]&32&&(_.selected=l[5]==l[26]),c[0]&48&&(_.partially_selected=l[4]==l[26]&&l[5]!=l[26]),t.$set(_)},i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){i&&d(e),we(t),s=!1,Re(o)}}}function gt(l){let e,t=l[24]+"",n,s,o,r,a,i;function c(){return l[17](l[24])}return{c(){e=p("div"),n=B(t),s=j(),o=p("button"),r=B("\xD7"),this.h()},l(_){e=g(_,"DIV",{class:!0});var h=k(e);n=S(h,t),s=L(h),o=g(h,"BUTTON",{class:!0});var D=k(o);r=S(D,"\xD7"),D.forEach(d),h.forEach(d),this.h()},h(){O(o,"class","svelte-4k8o2m"),O(e,"class","available-connector svelte-4k8o2m"),_e(e,"shadow",!l[1].includes(l[24]))},m(_,h){R(_,e,h),u(e,n),u(e,s),u(e,o),u(o,r),a||(i=H(o,"click",c),a=!0)},p(_,h){l=_,h[0]&8&&t!==(t=l[24]+"")&&Le(n,t),h[0]&10&&_e(e,"shadow",!l[1].includes(l[24]))},d(_){_&&d(e),a=!1,i()}}}function Rt(l){let e,t;return{c(){e=p("h1"),t=B("Please select a tile from the left"),this.h()},l(n){e=g(n,"H1",{class:!0});var s=k(e);t=S(s,"Please select a tile from the left"),s.forEach(d),this.h()},h(){O(e,"class","svelte-4k8o2m")},m(n,s){R(n,e,s),u(e,t)},p:ue,i:ue,o:ue,d(n){n&&d(e)}}}function qt(l){let e,t,n,s,o,r,a,i,c,_,h,D,v,X,I,q,ie,ee,W,ce,Y;n=new qe({props:{rule:l[0][l[5]],style:"min-width:100px;min-height:100px;transform: translate(-50%,-50%);"}});let te=l[0][l[5]].connectors,C=[];for(let f=0;f<te.length;f+=1)C[f]=kt(dt(l,te,f));let K=l[0][l[5]].connectors,N=[];for(let f=0;f<K.length;f+=1)N[f]=wt(ft(l,K,f));const de=f=>$(N[f],1,1,()=>{N[f]=null});function w(f){l[21](f)}let M={style:"flex:1;"};l[0][l[5]].value!==void 0&&(M.value=l[0][l[5]].value),D=new ut({props:M}),ot.push(()=>st(D,"value",w));function Z(f){l[22](f)}let ae={style:"flex:1;"};return l[0][l[5]].color!==void 0&&(ae.value=l[0][l[5]].color),W=new ut({props:ae}),ot.push(()=>st(W,"value",Z)),{c(){e=p("div"),t=p("div"),be(n.$$.fragment),s=j();for(let f=0;f<C.length;f+=1)C[f].c();o=j();for(let f=0;f<N.length;f+=1)N[f].c();r=j(),a=p("div"),i=p("div"),c=p("p"),_=B("Name:"),h=j(),be(D.$$.fragment),X=j(),I=p("div"),q=p("p"),ie=B("Color:"),ee=j(),be(W.$$.fragment),this.h()},l(f){e=g(f,"DIV",{style:!0});var T=k(e);t=g(T,"DIV",{style:!0});var F=k(t);ke(n.$$.fragment,F),F.forEach(d),s=L(T);for(let re=0;re<C.length;re+=1)C[re].l(T);o=L(T);for(let re=0;re<N.length;re+=1)N[re].l(T);T.forEach(d),r=L(f),a=g(f,"DIV",{class:!0});var se=k(a);i=g(se,"DIV",{style:!0,class:!0});var J=k(i);c=g(J,"P",{style:!0,class:!0});var y=k(c);_=S(y,"Name:"),y.forEach(d),h=L(J),ke(D.$$.fragment,J),J.forEach(d),X=L(se),I=g(se,"DIV",{style:!0,class:!0});var V=k(I);q=g(V,"P",{style:!0,class:!0});var A=k(q);ie=S(A,"Color:"),A.forEach(d),ee=L(V),ke(W.$$.fragment,V),V.forEach(d),se.forEach(d),this.h()},h(){b(t,"width","0"),b(t,"height","0"),b(e,"flex","1"),b(e,"justify-content","center"),b(e,"display","flex"),b(e,"align-items","center"),b(e,"min-width","750px"),b(e,"min-height","750px"),b(c,"flex","1"),O(c,"class","svelte-4k8o2m"),b(i,"display","flex"),b(i,"justify-content","space-between"),b(i,"border-bottom","1px solid #555"),O(i,"class","svelte-4k8o2m"),b(q,"flex","1"),O(q,"class","svelte-4k8o2m"),b(I,"display","flex"),b(I,"justify-content","space-between"),b(I,"border-bottom","1px solid #555"),O(I,"class","svelte-4k8o2m"),O(a,"class","properties svelte-4k8o2m")},m(f,T){R(f,e,T),u(e,t),ye(n,t,null),u(e,s);for(let F=0;F<C.length;F+=1)C[F].m(e,null);u(e,o);for(let F=0;F<N.length;F+=1)N[F].m(e,null);R(f,r,T),R(f,a,T),u(a,i),u(i,c),u(c,_),u(i,h),ye(D,i,null),u(a,X),u(a,I),u(I,q),u(q,ie),u(I,ee),ye(W,I,null),Y=!0},p(f,T){const F={};if(T[0]&33&&(F.rule=f[0][f[5]]),n.$set(F),T[0]&169){te=f[0][f[5]].connectors;let y;for(y=0;y<te.length;y+=1){const V=dt(f,te,y);C[y]?C[y].p(V,T):(C[y]=kt(V),C[y].c(),C[y].m(e,o))}for(;y<C.length;y+=1)C[y].d(1);C.length=te.length}if(T[0]&417){K=f[0][f[5]].connectors;let y;for(y=0;y<K.length;y+=1){const V=ft(f,K,y);N[y]?(N[y].p(V,T),G(N[y],1)):(N[y]=wt(V),N[y].c(),G(N[y],1),N[y].m(e,null))}for(ze(),y=K.length;y<N.length;y+=1)de(y);Ve()}const se={};!v&&T[0]&33&&(v=!0,se.value=f[0][f[5]].value,rt(()=>v=!1)),D.$set(se);const J={};!ce&&T[0]&33&&(ce=!0,J.value=f[0][f[5]].color,rt(()=>ce=!1)),W.$set(J)},i(f){if(!Y){G(n.$$.fragment,f);for(let T=0;T<K.length;T+=1)G(N[T]);G(D.$$.fragment,f),G(W.$$.fragment,f),Y=!0}},o(f){$(n.$$.fragment,f),N=N.filter(Boolean);for(let T=0;T<N.length;T+=1)$(N[T]);$(D.$$.fragment,f),$(W.$$.fragment,f),Y=!1},d(f){f&&d(e),we(n),ge(C,f),ge(N,f),f&&d(r),f&&d(a),we(D),we(W)}}}function bt(l){let e,t=l[31]+"",n,s;return{c(){e=p("option"),n=B(t),this.h()},l(o){e=g(o,"OPTION",{});var r=k(e);n=S(r,t),r.forEach(d),this.h()},h(){e.__value=s=l[31],e.value=e.__value},m(o,r){R(o,e,r),u(e,n)},p(o,r){r[0]&8&&t!==(t=o[31]+"")&&Le(n,t),r[0]&8&&s!==(s=o[31])&&(e.__value=s,e.value=e.__value)},d(o){o&&d(e)}}}function kt(l){let e,t,n,s,o=l[3],r=[];for(let i=0;i<o.length;i+=1)r[i]=bt(ht(l,o,i));function a(){l[19].call(t,l[30],l[26])}return{c(){e=p("div"),t=p("select");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=g(i,"DIV",{class:!0,style:!0});var c=k(e);t=g(c,"SELECT",{class:!0});var _=k(t);for(let h=0;h<r.length;h+=1)r[h].l(_);_.forEach(d),c.forEach(d),this.h()},h(){O(t,"class","connector-content svelte-4k8o2m"),l[24][0]===void 0&&Et(a),O(e,"class","connector svelte-4k8o2m"),b(e,"transform",l[7][l[26]])},m(i,c){R(i,e,c),u(e,t);for(let _=0;_<r.length;_+=1)r[_].m(t,null);Pe(t,l[24][0]),n||(s=H(t,"change",a),n=!0)},p(i,c){if(l=i,c[0]&8){o=l[3];let _;for(_=0;_<o.length;_+=1){const h=ht(l,o,_);r[_]?r[_].p(h,c):(r[_]=bt(h),r[_].c(),r[_].m(t,null))}for(;_<r.length;_+=1)r[_].d(1);r.length=o.length}c[0]&41&&Pe(t,l[24][0])},d(i){i&&d(e),ge(r,i),n=!1,s()}}}function yt(l){let e,t;return e=new qe({props:{rule:l[27]}}),{c(){be(e.$$.fragment)},l(n){ke(e.$$.fragment,n)},m(n,s){ye(e,n,s),t=!0},p(n,s){const o={};s[0]&33&&(o.rule=n[27]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){we(e,n)}}}function wt(l){let e,t,n,s;function o(...c){return l[20](l[26],l[24],...c)}let r=l[0].filter(o),a=[];for(let c=0;c<r.length;c+=1)a[c]=yt(_t(l,r,c));const i=c=>$(a[c],1,1,()=>{a[c]=null});return{c(){e=p("div"),t=p("div");for(let c=0;c<a.length;c+=1)a[c].c();n=j(),this.h()},l(c){e=g(c,"DIV",{class:!0,style:!0});var _=k(e);t=g(_,"DIV",{class:!0});var h=k(t);for(let D=0;D<a.length;D+=1)a[D].l(h);h.forEach(d),n=L(_),_.forEach(d),this.h()},h(){O(t,"class","possible-content svelte-4k8o2m"),O(e,"class","possible svelte-4k8o2m"),b(e,"transform",l[7][l[26]])},m(c,_){R(c,e,_),u(e,t);for(let h=0;h<a.length;h+=1)a[h].m(t,null);u(e,n),s=!0},p(c,_){if(l=c,_[0]&289){r=l[0].filter(o);let h;for(h=0;h<r.length;h+=1){const D=_t(l,r,h);a[h]?(a[h].p(D,_),G(a[h],1)):(a[h]=yt(D),a[h].c(),G(a[h],1),a[h].m(t,null))}for(ze(),h=r.length;h<a.length;h+=1)i(h);Ve()}},i(c){if(!s){for(let _=0;_<r.length;_+=1)G(a[_]);s=!0}},o(c){a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)$(a[_]);s=!1},d(c){c&&d(e),ge(a,c)}}}function At(l){let e,t,n,s,o,r,a,i,c,_,h,D,v,X,I,q,ie,ee,W,ce,Y,te,C,K,N,de,w,M,Z,ae,f,T,F,se,J,y,V,A,re,le,Ce,Ue,he,ne,oe,Ee,Be,Ae,me=l[0],z=[];for(let m=0;m<me.length;m+=1)z[m]=pt(vt(l,me,m));const Tt=m=>$(z[m],1,1,()=>{z[m]=null});let pe=l[3],Q=[];for(let m=0;m<pe.length;m+=1)Q[m]=gt(mt(l,pe,m));const He=[qt,Rt],fe=[];function Fe(m,P){return m[5]!=null&&m[0]!=null&&m[0]!=[]?0:1}return ne=Fe(l),oe=fe[ne]=He[ne](l),{c(){e=p("main"),t=p("div"),n=p("div"),s=p("select"),o=p("option"),r=B("Dungeon"),a=p("option"),i=B("Minecraft"),c=p("option"),_=B("Checkers"),h=p("option"),D=B("Layers"),v=p("option"),X=B("Flowers"),I=p("option"),q=B("Stripes"),ie=j(),ee=p("button"),W=B("export"),ce=j(),Y=p("button"),te=B("new"),C=j(),K=p("h3"),N=B("Tiles"),de=j(),w=p("div");for(let m=0;m<z.length;m+=1)z[m].c();M=j(),Z=p("button"),ae=B("+"),f=j(),T=p("h3"),F=B("Connectors"),se=j(),J=p("div");for(let m=0;m<Q.length;m+=1)Q[m].c();y=j(),V=p("div"),A=p("input"),re=j(),le=p("button"),Ce=B("+"),Ue=j(),he=p("div"),oe.c(),this.h()},l(m){e=g(m,"MAIN",{class:!0});var P=k(e);t=g(P,"DIV",{class:!0});var U=k(t);n=g(U,"DIV",{style:!0});var E=k(n);s=g(E,"SELECT",{});var x=k(s);o=g(x,"OPTION",{});var Je=k(o);r=S(Je,"Dungeon"),Je.forEach(d),a=g(x,"OPTION",{});var Ke=k(a);i=S(Ke,"Minecraft"),Ke.forEach(d),c=g(x,"OPTION",{});var Qe=k(c);_=S(Qe,"Checkers"),Qe.forEach(d),h=g(x,"OPTION",{});var Ge=k(h);D=S(Ge,"Layers"),Ge.forEach(d),v=g(x,"OPTION",{});var We=k(v);X=S(We,"Flowers"),We.forEach(d),I=g(x,"OPTION",{});var Xe=k(I);q=S(Xe,"Stripes"),Xe.forEach(d),x.forEach(d),ie=L(E),ee=g(E,"BUTTON",{});var Ye=k(ee);W=S(Ye,"export"),Ye.forEach(d),ce=L(E),Y=g(E,"BUTTON",{});var Ze=k(Y);te=S(Ze,"new"),Ze.forEach(d),E.forEach(d),C=L(U),K=g(U,"H3",{style:!0});var xe=k(K);N=S(xe,"Tiles"),xe.forEach(d),de=L(U),w=g(U,"DIV",{class:!0});var Te=k(w);for(let ve=0;ve<z.length;ve+=1)z[ve].l(Te);M=L(Te),Z=g(Te,"BUTTON",{class:!0});var $e=k(Z);ae=S($e,"+"),$e.forEach(d),Te.forEach(d),f=L(U),T=g(U,"H3",{});var et=k(T);F=S(et,"Connectors"),et.forEach(d),se=L(U),J=g(U,"DIV",{class:!0});var Ie=k(J);for(let ve=0;ve<Q.length;ve+=1)Q[ve].l(Ie);y=L(Ie),V=g(Ie,"DIV",{style:!0});var Ne=k(V);A=g(Ne,"INPUT",{style:!0}),re=L(Ne),le=g(Ne,"BUTTON",{style:!0});var tt=k(le);Ce=S(tt,"+"),tt.forEach(d),Ne.forEach(d),Ie.forEach(d),U.forEach(d),Ue=L(P),he=g(P,"DIV",{class:!0});var lt=k(he);oe.l(lt),lt.forEach(d),P.forEach(d),this.h()},h(){o.__value="5",o.value=o.__value,a.__value="0",a.value=a.__value,c.__value="1",c.value=c.__value,h.__value="2",h.value=h.__value,v.__value="3",v.value=v.__value,I.__value="6",I.value=I.__value,l[2]===void 0&&Et(()=>l[14].call(s)),b(n,"display","flex"),b(n,"gap",".25em"),b(n,"flex-wrap","wrap"),b(K,"margin-block","0"),O(Z,"class","add-tile svelte-4k8o2m"),O(w,"class","selection svelte-4k8o2m"),b(A,"height","2em"),b(A,"width","8em"),b(A,"border","none"),b(A,"background-color","#191919"),b(A,"padding-top","0px"),b(A,"padding-bottom","0px"),b(A,"outline","none"),b(A,"font-size","1em"),b(A,"padding-left",".5em"),b(le,"height","2em"),b(le,"box-sizing","content-box"),b(le,"border","none"),b(le,"padding-top","0px"),b(le,"padding-bottom","0px"),b(le,"font-size","1em"),b(V,"display","flex"),b(V,"background-color","#191919"),b(V,"border","1px solid #2d2c2d"),b(V,"border-radius",".25rem"),b(V,"overflow","hidden"),O(J,"class","available-connectors svelte-4k8o2m"),O(t,"class","browser svelte-4k8o2m"),O(he,"class","editor svelte-4k8o2m"),O(e,"class","svelte-4k8o2m")},m(m,P){R(m,e,P),u(e,t),u(t,n),u(n,s),u(s,o),u(o,r),u(s,a),u(a,i),u(s,c),u(c,_),u(s,h),u(h,D),u(s,v),u(v,X),u(s,I),u(I,q),Pe(s,l[2]),u(n,ie),u(n,ee),u(ee,W),u(n,ce),u(n,Y),u(Y,te),u(t,C),u(t,K),u(K,N),u(t,de),u(t,w);for(let U=0;U<z.length;U+=1)z[U].m(w,null);u(w,M),u(w,Z),u(Z,ae),u(t,f),u(t,T),u(T,F),u(t,se),u(t,J);for(let U=0;U<Q.length;U+=1)Q[U].m(J,null);u(J,y),u(J,V),u(V,A),De(A,l[6]),u(V,re),u(V,le),u(le,Ce),u(e,Ue),u(e,he),fe[ne].m(he,null),Ee=!0,Be||(Ae=[H(s,"change",l[14]),H(ee,"click",l[10]),H(Y,"click",l[9]),H(Z,"click",l[11]),H(A,"input",l[18]),H(le,"click",l[13]),H(e,"mouseover",l[23]),H(e,"focus",Ft)],Be=!0)},p(m,P){if(P[0]&4&&Pe(s,m[2]),P[0]&49){me=m[0];let E;for(E=0;E<me.length;E+=1){const x=vt(m,me,E);z[E]?(z[E].p(x,P),G(z[E],1)):(z[E]=pt(x),z[E].c(),G(z[E],1),z[E].m(w,M))}for(ze(),E=me.length;E<z.length;E+=1)Tt(E);Ve()}if(P[0]&4106){pe=m[3];let E;for(E=0;E<pe.length;E+=1){const x=mt(m,pe,E);Q[E]?Q[E].p(x,P):(Q[E]=gt(x),Q[E].c(),Q[E].m(J,y))}for(;E<Q.length;E+=1)Q[E].d(1);Q.length=pe.length}P[0]&64&&A.value!==m[6]&&De(A,m[6]);let U=ne;ne=Fe(m),ne===U?fe[ne].p(m,P):(ze(),$(fe[U],1,1,()=>{fe[U]=null}),Ve(),oe=fe[ne],oe?oe.p(m,P):(oe=fe[ne]=He[ne](m),oe.c()),G(oe,1),oe.m(he,null))},i(m){if(!Ee){for(let P=0;P<me.length;P+=1)G(z[P]);G(oe),Ee=!0}},o(m){z=z.filter(Boolean);for(let P=0;P<z.length;P+=1)$(z[P]);$(oe),Ee=!1},d(m){m&&d(e),ge(z,m),ge(Q,m),fe[ne].d(),Be=!1,Re(Ae)}}}const Ht=()=>{},Ft=()=>{};function Jt(l,e,t){const n=["translate( 0,  var(--sm))","translate(var(--sm), 0px)","translate( 0,   var(--s))","translate( var(--s), 0px)"],s={0:2,1:3,2:0,3:1};let o=at,r=[],a=[];function i(){t(0,o=[])}function c(){alert(JSON.stringify(o))}function _(){let w=prompt("Tile name");if(w==null)return;let M=prompt("Tile color");M!=null&&(o.push({value:w,color:M,connectors:[[],[],[],[]]}),t(0,o),t(2,v))}function h(w){for(let M of o)M.connectors=M.connectors.map(Z=>Z.filter(ae=>ae!==w));t(0,o),t(2,v)}function D(){q!=null&&q!==""&&(t(3,r=[...r,q]),console.log("Added new connector",q))}let v="5",X,I,q;function ie(){v=nt(this),t(2,v)}const ee=w=>{t(5,I=w),t(4,X=w)},W=(w,M)=>{t(5,I=w),M.preventDefault(),M.stopPropagation()},ce=w=>{h(w)};function Y(){q=this.value,t(6,q)}function te(w,M){w[M][0]=nt(this),t(0,o),t(2,v),t(5,I),t(2,v),t(3,r),t(0,o),t(1,a),t(2,v)}const C=(w,M,Z)=>Z.connectors[s[w]].filter(ae=>M.includes(ae)).length>0;function K(w){l.$$.not_equal(o[I].value,w)&&(o[I].value=w,t(0,o),t(2,v))}function N(w){l.$$.not_equal(o[I].color,w)&&(o[I].color=w,t(0,o),t(2,v))}const de=()=>{t(5,I=X)};return l.$$.update=()=>{l.$$.dirty[0]&4&&v!=null&&(t(0,o=[Nt,Ot,Dt,Pt,Vt,at,zt][+v]),t(4,X=null),t(5,I=null)),l.$$.dirty[0]&3&&o!=null&&(t(1,a=[...new Set(o.map(w=>w.connectors.flat()).flat())]),t(3,r=[...a]))},[o,a,v,r,X,I,q,n,s,i,c,_,h,D,ie,ee,W,ce,Y,te,C,K,N,de]}class Gt extends Se{constructor(e){super(),Me(this,e,Jt,At,je,{},null,[-1,-1])}}export{Gt as default};
